const loadTotals=()=>{$(".minicart.minicart--summary").load(window.cartSummaryRoute);const n=$(".checkout-mobile-footer");!n||$(".checkout-mobile-footer").load(window.cartSummaryRoute)},loadItems=()=>{$("#cart-items").load(window.cartItemsRoute)},loadBadgeQuantity=()=>{$("#cartBadge").load(window.cartBadgeQuantity)},updateCart=()=>{Promise.all([loadItems(),loadTotals(),loadBadgeQuantity()])},handleResponse=(n,t=null)=>{if(!n.success)return console.log("error from server",n.message),!1;if(!!t)return t(),!1;window.location.href.includes(window.cartIndexRoute)?updateCart():window.location.href=window.cartIndexRoute},addToCart=(n,t=1,i=null)=>{$.post(window.cartAddItemRoute,{productPackageId:n,quantity:t}).done(n=>handleResponse(n,i)).fail(handleFail)},addToCartWithSubscription=(n,t=1,i=null)=>{$.post(window.cartAddItemWithSubscription,{productPackageId:n,quantity:t}).done(n=>handleResponse(n,i)).fail(handleFail)},removeFromCart=n=>{$.post(window.cartRemoveItemRoute,{id:n}).done(n=>handleResponse(n,null)).fail(handleFail)},updateCartSubscription=n=>{$.post(window.cartUpdateSubscriptionRoute,{subscriptionId:n}).done(n=>handleResponse(n,null)).fail(handleFail)};