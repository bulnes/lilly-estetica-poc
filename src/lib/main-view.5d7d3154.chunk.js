(this["webpackJsonp@livechat/chat-widget"]=this["webpackJsonp@livechat/chat-widget"]||[]).push([[0],{337:function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return m})),n.d(t,"a",(function(){return g}));var r=n(1),a=n(4),i=n(0),o=n(5),c=n(328),l=function(e){return Object(o.z)("transition-delay:",e,"ms;")},s=Object(o.z)("&-enter,&-appear{opacity:0;transform:translateY(8px);}&-enter-active,&-appear-active{opacity:1;transform:translateY(0);transition:opacity 100ms ease-in,transform 200ms ease-in;}&-exit{opacity:1;transform:translateY(0);}&-exit-active{opacity:0;transform:translateY(8px);transition:opacity 100ms ease-in,transform 200ms ease-in;}"),u=function(e){var t=e.delay,n=void 0===t?0:t,o=Object(a.a)(e,["delay"]);return i.createElement(c.a,Object(r.a)({},o,{timeout:200+n,classNames:s,className:l(n)}))},d=function(e){return void 0===e&&(e=0),Object(o.z)("transition-delay:",e,"ms;&-enter,&-appear{opacity:0;}&-enter-active,&-appear-active{opacity:1;transition:opacity 200ms ease-out;}&-exit{opacity:1;}&-exit-active{opacity:0;transition:opacity 200ms ease-out;}")},m=function(e){var t=e.delay,n=void 0===t?0:t,o=Object(a.a)(e,["delay"]);return i.createElement(c.a,Object(r.a)({},o,{timeout:200+n,classNames:d(n)}))},p=n(22),f=function(e){var t=e.slideDuration,n=e.opacityDuration,r=e.opacityDelay,a=e.theme;return Object(o.z)("&-exit{opacity:1;}&-exit-active,&-exit-done{opacity:0;transform:translateX(100%);transition:transform ",t,"ms ",a.transitions.easings.swift,",opacity ",n,"ms linear ",r,"ms;}")},b=(Object(p.b)((function(e){var t=e.transitionDuration,n=e.onTransitionStart,o=e.onTransitionEnd,l=e.theme,s=Object(a.a)(e,["transitionDuration","onTransitionStart","onTransitionEnd","theme"]),u=t,d=Math.floor(2/3*t),m=t-d;return i.createElement(c.a,Object(r.a)({},s,{timeout:t,onExited:o,onEntered:o,onExiting:n,onEntering:n,classNames:f({slideDuration:u,opacityDuration:d,opacityDelay:m,theme:l})}))})),function(e){return Object(o.z)("transition-delay:",e,"ms;")}),h=function(e){return Object(o.z)("&-enter,&-appear{opacity:0;transform:translateY(30px);}&-enter-active,&-appear-active{opacity:1;transform:translateY(0);transition:opacity 300ms ",e.transitions.easings.smooth,",transform 400ms ",e.transitions.easings.smooth,";}")},g=Object(p.b)((function(e){var t=e.theme,n=e.delay,o=void 0===n?0:n,l=Object(a.a)(e,["theme","delay"]);return i.createElement(c.a,Object(r.a)({},l,{timeout:400+o,className:b(o),classNames:h(t)}))}))},340:function(e,t,n){"use strict";var r=n(1),a=n(0),i=n(5),o=n(22),c=n(2),l=n(4),s=n(153),u=function(e,t,n){return void 0===n&&(n=[]),e.buttons?Object(r.a)({},e,{buttons:e.buttons.map((function(e){return Object(r.a)({},e,{disabled:!!Object(c.n)((function(t){return t===e.type}),n)},t&&{"aria-disabled":"true"})}))}):e},d=function(e){var t=e.card,n=e.disabledButtons,i=e.eventId,o=e.compactButtons,c=e.onActionButtonClick,d=Object(l.a)(e,["card","disabledButtons","eventId","compactButtons","onActionButtonClick"]),m=a.useState(!1),p=m[0],f=m[1];return a.useEffect((function(){if(p){var e=setTimeout((function(){f(!1)}),1e3);return function(){return clearTimeout(e)}}}),[p]),a.createElement(s.b,Object(r.a)({card:u(t,p,n),onButtonClick:function(e){p||(f(!0),c({button:t.buttons[e],event:i}))},compactButtons:o},d))},m=n(192),p=Object(o.b)((function(e){var t,n,i=e.theme,o=Object(l.a)(e,["theme"]);return i&&"modern"===i.name&&(t=150,n=250),a.createElement(m.a,Object(r.a)({maxWidth:t,maxHeight:n},o))})),f=n(34),b=Object(i.D)("span",{target:"e1vbunaw0"})("font-size:2.5em;"),h=function(e){var t=e.event,n=e.radiusType;return a.createElement(i.c,{radiusType:n},a.createElement(i.m,null,a.createElement(b,null,a.createElement(f.a,null,t.properties.text))))},g=n(193),v=n(13),E=n(187),j=function(e){function t(){return e.apply(this,arguments)||this}Object(v.a)(t,e);var n=t.prototype;return n.componentDidUpdate=function(e,t,n){n&&this._messageListContext.scrollToBottom()},n.getSnapshotBeforeUpdate=function(e){return!this.shouldRenderPreview(e)&&this.shouldRenderPreview()&&this._messageListContext.isScrollOnBottom()},n.shouldRenderPreview=function(e){return void 0===e&&(e=this.props),Boolean(e.urlPreview.properties.title)},n.render=function(){var e=this;return a.createElement(i.l,null,(function(t){e._messageListContext=t;var n=e.props,r=n.urlPreview.properties,o=n.radiusType,l=Object(c.ab)(["url","link"],r.image);return e.shouldRenderPreview()?a.createElement(i.c,{radiusType:o},a.createElement(p,l),a.createElement(i.n,{subtitle:r.description,title:r.title})):a.createElement(i.c,{radiusType:o},a.createElement(E.a,{text:r.text}))}))},t}(a.Component),O=n(189),x=n(45),y=Object(i.D)("div",{target:"e1kfksj70"})("margin:0;margin-bottom:4px;font-size:1em;font-weight:400;");t.a=Object(o.b)((function(e){var t=e.event,n=e.mobile,o=e.radiusType,l=e.disabledButtons,s=e.onActionButtonClick,u=e.onShow,m=void 0===u?c.T:u,f=e.theme,b=e.compactButtons,v=void 0!==b&&b,E=e.rtl,w=n&&v;switch(Object(x.m)(m),t.type){case"carousel":return a.createElement(i.e,{dir:E?"rtl":"ltr",mobile:n,scrollableElementPadding:f.spaces.space5},t.properties.cards.map((function(e,n){return a.createElement(d,{key:n,card:e,horizontalLayout:w,eventId:t.id,compactButtons:v,disabledButtons:l,onActionButtonClick:s,TitleComponent:y})})));case"message":case"message_draft":return a.createElement(g.a,Object(r.a)({},t.properties,{own:t.own,radiusType:o,draft:"message_draft"===t.type&&null===t.serverId,eventId:t.properties.quickReplies&&t.id}));case"emoji":return a.createElement(h,{event:t,radiusType:o});case"rich_message":return a.createElement(d,{eventId:t.id,horizontalLayout:w,card:t.properties.card,compactButtons:v,disabledButtons:l,onActionButtonClick:s});case"sticker":return a.createElement(O.a,t.properties);case"url_preview":return a.createElement(j,{radiusType:o,urlPreview:t});case"image_preview":var k=Object(c.ab)(["url","link","width","height","srcSet","alternativeText","name"],t.properties);return a.createElement(p,k)}return null}))},371:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n(26),i=n(5),o=n(45),c=n(366),l=n(117),s=n(3),u=n(6),d=n(1),m=n(2),p=n(329),f=n(92),b=n(121),h=n(97),g=n(10),v=n(337),E=n(4),j=n(328),O=function(e,t){var n=new Date(e);return n.toLocaleDateString()===(new Date).toLocaleDateString()?t.today(n):function(e){var t=new Date;return t.setDate(t.getDate()-1),e.toLocaleDateString()===t.toLocaleDateString()}(n)?t.yesterday(n):n.toLocaleDateString([],{year:"numeric",month:"2-digit",day:"2-digit"})},x=function(){return"IntersectionObserver"in window&&"IntersectionObserverEntry"in window},y=function(e,t,n){var r=Object(m.yb)(t).sort((function(e,t){return e.timestamp-t.timestamp})),a=Object(m.o)((function(t){return t.node===e}),r);if(a>-1)return{currentTimestamp:r[a].timestamp,previousTimestamp:a>0?r[a-1].timestamp:n}},w=function(e,t){var n=r.useRef({beginingOfTime:t,currentTimestamp:0,subscribers:[],dividers:{}}),a=function(e){var t=e.rootRef,n=e.rootMargin,a=e.threshold,i=e.intersectionHandler;if(x()){var c=r.useRef(null),l=r.useRef([]),s=Object(o.k)(i);return r.useEffect((function(){return c.current=new IntersectionObserver((function(e,t){s.current&&s.current(e,t)}),{root:t.current,rootMargin:n,threshold:a}),l.current.forEach((function(e){return c.current.observe(e)})),l.current=[],function(){return c.current.disconnect()}}),[n,a,t,s]),Object(o.d)((function(){return{add:function(e){c.current?c.current.observe(e):l.current.push(e)},remove:function(e){c.current?c.current.unobserve(e):l.current=l.current.filter((function(t){return t!==e}))}}}))}}({rootRef:e,intersectionHandler:function(e){var t=function(e,t,n){var r=e.filter((function(e){return e.isIntersecting})).sort((function(e,t){return e.boundingClientRect.top-t.boundingClientRect.top}))[0];if(r){var a=y(r.target,t,n);return a&&a.previousTimestamp}var i=e.filter((function(e){return e.boundingClientRect.top<=e.rootBounds.top})).sort((function(e,t){return e.boundingClientRect.top-t.boundingClientRect.top})).reverse()[0];if(i){var o=y(i.target,t,n);return o&&o.currentTimestamp}}(e,n.current.dividers,n.current.beginingOfTime);if(t){var r={timestamp:t,direction:t>n.current.currentTimestamp?"down":"up"};n.current.currentTimestamp=t,n.current.subscribers.forEach((function(e){return e(r)}))}},threshold:.2});return r.useEffect((function(){var e=Object(m.yb)(n.current.dividers).map((function(e){return e.timestamp})),t=Math.max.apply(Math,e.concat([n.current.beginingOfTime]));n.current.currentTimestamp=t,n.current.subscribers.forEach((function(e){return e({timestamp:t,direction:"up"})}))}),[]),Object(o.d)((function(){return{add:function(e){n.current.dividers[e.timestamp]=e,a&&a.add(e.node)},remove:function(e){a&&a.remove(e.node),delete n.current.dividers[e.timestamp]},subscribe:function(e){n.current.subscribers.push(e)},unsubscribe:function(e){n.current.subscribers=n.current.subscribers.filter((function(t){return t!==e}))},setBeginingOfTime:function(e){n.current.beginingOfTime=e},currentTimestamp:function(){return n.current.currentTimestamp}}}))},k=r.createContext(null),C=function(){return r.useContext(k)},S=function(e){var t=e.children,n=e.rootRef,a=e.beginingOfTime,i=w(n,a);return r.useEffect((function(){i.setBeginingOfTime(a)})),r.createElement(k.Provider,{value:i},t)},R=Object(i.D)("span",{displayName:"DividerLabel",target:"eceo2x80"})("padding:4px 8px;font-size:12px;position:relative;padding:0 8px;&:before,&:after{content:'';width:50vw;height:0;border-top:1px solid;border-top-color:inherit;position:absolute;top:50%;}&:before{right:100%;}&:after{left:100%;}"),z=Object(i.D)(R,{target:"e1g4em790"})("color:",(function(e){return e.theme.colors.text.black}),";overflow:hidden;border:1px solid ",(function(e){return e.theme.colors.divider}),";background-color:",(function(e){return e.theme.colors.surface.light}),";border-radius:",(function(e){return e.theme.borderRadius.md}),";padding:2px 6px;transition:opacity 150ms linear;",(function(e){return!e.visible&&Object(i.z)("opacity:0;pointer-events:none;")})),D=Object(i.D)("span",{target:"e1g4em791"})(),T=function(e){return Object(i.z)("&-enter ",D,",&-exit ",D,"{position:relative;}&-enter ",D,"{top:","up"===e?"-2em":"2em",";}&-enter-active ",D,"{top:0;transition:top ",200,"ms ease-out;}&-exit{opacity:1;}&-exit-active{opacity:0;transition:opacity ",200,"ms ease-out;}&-exit ",D,"{top:0;position:relative;}&-exit-active ",D,"{top:","up"===e?"2em":"-2em",";transition:top ",200,"ms ease-out;}")};var _=x()?function(e){var t=e.isUserScrollingSource,n=Object(E.a)(e,["isUserScrollingSource"]),i=Object(o.s)(t),c=C(),l=r.useState({direction:"up",timestamp:c.currentTimestamp()}),s=l[0],u=l[1];return r.useEffect((function(){c.subscribe(u);var e=c.currentTimestamp();return e!==s.timestamp&&u({direction:"up",timestamp:e}),function(){return c.unsubscribe(u)}}),[c]),s.timestamp?r.createElement(a.a,null,(function(e){var t=O(s.timestamp,{today:function(){return e("today")},yesterday:function(){return e("yesterday")}});return r.createElement(p.a,{component:null,childFactory:function(e){return r.cloneElement(e,{classNames:T(s.direction)})}},r.createElement(j.a,{key:t,classNames:T(s.direction),timeout:200},r.createElement(z,Object(d.a)({},n,{visible:i}),r.createElement(D,null,t))))})):null}:function(){return null},I=function(e){var t=C();r.useEffect((function(){var n={timestamp:e.timestamp,node:e.nodeRef.current};return t.add(n),function(){t.remove(n)}}),[])},B=Object(i.D)("div",{target:"ehmqpie0"})("height:20px;margin:16px -0.5em;text-align:center;overflow:hidden;"),M=function(e){var t=e.timestamp,n=r.useRef(null);return I({timestamp:t,nodeRef:n}),r.createElement(a.a,null,(function(e){return r.createElement(B,{innerRef:n},r.createElement(R,null,O(t,{today:function(e){return e.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})},yesterday:function(){return e("yesterday")}})))}))},F=n(46),P=Object(i.D)("div",{displayName:"NewMessageHorizontalDivider",target:"eacid5n0"})("height:27px;margin:16px -0.5em;text-align:center;overflow:hidden;"),N=Object(i.D)(F.y,{target:"eacid5n1"})("display:inline-flex;padding:2px 12px;font-weight:normal;box-shadow:none;height:auto;&:before,&:after{border-top:0;}"),H=function(e){var t=e.unseenCount,n=e.setScrollTargetNode,i=r.useRef(null);return Object(o.m)((function(){i.current&&n(i.current)})),r.createElement(a.a,null,(function(e){return r.createElement(P,{innerRef:i},r.createElement(N,{minScale:.9,maxScale:1.05},e(1===t?"new_message":"new_messages")))}))},A=n(22),L=n(11),q=Object(i.D)("div",{displayName:"Divider",target:"evqzb400"})("border-top:1px solid rgba(0,0,0,0.05);margin:0 1em;margin-bottom:-1px;z-index:10;position:relative;"),V=Object(i.D)("div",{target:"ekfrplk0"})((function(e){return e.theme.typography.basic})," line-height:1.2;color:inherit;display:flex;width:100%;flex-direction:",(function(e){return e.row?"row":"column"}),";"),U=function(){return!0},W=Object(a.c)((function(e,t){var n=t.name,r=t.condition,a=void 0===r?U:r;return function(e){var t=Object(u.g)(n,e),r=t.enabled,i=Object(E.a)(t,["enabled"]);return{shouldRender:r&&a(i)}}}))((function(e){var t=e.shouldRender,n=e.children;return t?n:null})),Y=n(13),G=n(363),Z=n(233),K=n(15),Q=n(53),J=n.n(Q),X=function(e){return document.getElementById(e)},$=function(e){var t=e.portalId,n=void 0===t?"overlay_portal_container":t,a=e.children,i=r.useState((function(){return X(n)})),c=i[0],l=i[1];return Object(o.m)((function(){c||l(X(n))})),c?Q.createPortal(a,c):null},ee=n(12),te=function(e){return{enter:300,exit:e+300}},ne=function(e,t){return Object(i.z)("&-enter,&-appear{background-color:rgba(0,0,0,0);}&-enter-active,&-appear-active,&-enter-done,&-appear-done{background-color:rgba(0,0,0,0.5);transition:background-color ",300,"ms ",t.transitions.easings.smooth,";}&-exit{background-color:rgba(0,0,0,0.5);}&-exit-active,&-exit-done{background-color:rgba(0,0,0,0);transition:background-color ",300,"ms ",t.transitions.easings.smooth,";transition-delay:",e,"ms;}")},re=Object(i.z)("z-index:999;position:absolute;top:0;left:0;right:0;bottom:0;border-radius:inherit;"),ae=function(e){var t=r.useRef(null);return Object(o.g)("touchmove",t),r.createElement("div",Object(d.a)({ref:t,className:re},e))},ie=r.memo(Object(A.b)((function(e){var t=e.shown,n=e.exitDelay,a=void 0===n?100:n,i=e.onPress,o=e.theme,c=Object(ee.k)({onPress:i}).pressProps;return r.createElement(p.a,{appear:!0,component:null},t&&r.createElement(j.a,{classNames:ne(a,o),timeout:te(a)},r.createElement(ae,c)))}))),oe=Object(i.z)("margin:0;background:transparent;"),ce=function(e){return Object(i.z)("position:absolute;z-index:1500;width:calc(100% - 2rem);max-width:290px;top:1em;left:50%;background:",e.colors.surface.light,";box-shadow:",e.boxShadow.lg,";padding:",1*e.spaceBase,"px;border-radius:",e.borderRadius.md,";")},le=Object(i.D)("div",{target:"e1yhh5l70"})("display:flex;flex-direction:row-reverse;"),se=Object(i.D)("div",{target:"e1yhh5l71"})("padding:",(function(e){return 1*e.theme.spaceBase}),"px;padding-top:0;"),ue={enter:300,exit:300},de=function(e){return Object(i.z)("&-enter{transform:translate(-50%,20%);opacity:0;}&-enter-active,&-enter-done{transition:transform ",300,"ms ",e.transitions.easings.swift,",opacity ",300,"ms ",e.transitions.easings.swift,";transform:translate(-50%,0%);opacity:1;}&-exit{transform:translate(-50%,0%);opacity:1;}&-exit-active,&-exit-done{transform:translate(-50%,20%);opacity:0;transition:transform ",300,"ms ",e.transitions.easings.swift,",opacity ",150,"ms ease-out 50ms;}")},me=r.forwardRef((function(e,t){var n=e.onClose,a=void 0===n?m.T:n,i=e.children,o=e.theme,c=e["aria-label"],s=e["aria-labelledby"],u=Object(E.a)(e,["onClose","children","theme","aria-label","aria-labelledby"]);Object(Z.d)();var p=Object(Z.c)({isOpen:!0,isDismissable:!0,onClose:a},t).overlayProps,f=Object(Z.b)().modalProps,b=Object(G.a)({"aria-label":c,"aria-labelledby":s},t).dialogProps;return r.createElement(l.a,{contain:!0,autoFocus:!0,restoreFocus:!0},r.createElement("div",Object(d.a)({},Object(K.e)(u,p,f,b),{ref:t,className:ce(o)}),r.createElement(le,null,r.createElement(F.j,{className:oe,onPress:a,"aria-label":"Close modal"},r.createElement(F.e,{"aria-hidden":!0}))),r.createElement(se,null,i)))})),pe=Object(A.b)((function(e){var t=e.onClose,n=void 0===t?m.T:t,a=e.shown,i=e.children,o=e.theme,c=Object(E.a)(e,["onClose","shown","children","theme"]),l=r.useRef(null);return r.createElement($,null,r.createElement(ie,{shown:a,onPress:n,exitDelay:25}),r.createElement(p.a,{component:null},a&&r.createElement(j.a,{nodeRef:l,classNames:de(o),timeout:ue},r.createElement(me,Object(d.a)({onClose:n,theme:o,ref:l},c),i))))})),fe=n(334),be=n(349),he=Object(i.D)("form",{displayName:"Form",section:!0,target:"e1nyj5rz0"})(),ge=n(229),ve=Object(i.D)(ge.a,{target:"exlwksr0"})("margin:0;transition:height 100ms ",(function(e){return e.theme.transitions.easings.linear}),";overflow:hidden;",(function(e){return e.theme.typography.errorCaption})),Ee=function(e){var t=e.id,n=e.error,a=r.useRef(null);return r.useLayoutEffect((function(){var e=a.current;if(n){e.style.height="auto";var t=getComputedStyle(e).height;e.style.height="0",function(e){e.scrollTop}(e),e.style.height=t}else e.style.height="0"}),[n]),r.createElement(ve,{id:t,innerRef:a,role:"alert"},n)},je=Object(i.D)("label",{target:"e2zxkge0"})("width:100%;display:inline-block;a{color:inherit;}",(function(e){var t=e.theme,n=e.isRequired,r=void 0!==n&&n;return[t.typography.basic,r&&Object(i.z)("&::after{display:inline;content:'\\00a0*';",t.typography.errorCaption,"}")]}));je.defaultProps={textWrap:!0};var Oe=je,xe=Object(i.D)("legend",{target:"e1kph7ea0"})("padding:0;display:inline-block;width:100%;a{color:inherit;}",(function(e){var t=e.theme,n=e.isRequired,r=void 0!==n&&n;return[t.typography.basic,r&&Object(i.z)("&::after{display:inline;content:'\\00a0*';",t.typography.errorCaption,"}")]}));xe.defaultProps={textWrap:!0};var ye=xe,we=Object(i.D)("div",{target:"e1oy1v900"})((function(e){return{margin:.25*e.theme.spaceBase+"px 0"}})),ke=Object(i.D)("div",{target:"e1oy1v901"})("position:relative;display:inline-block;cursor:pointer;width:40px;height:40px;outline-style:",(function(e){return e.focused?"auto":"none"}),";"),Ce=Object(i.D)("input",{target:"e1oy1v902"})("opacity:0;margin:0;padding:0;height:100%;width:100%;position:absolute;cursor:pointer;"),Se=Object(i.D)("div",{target:"e1oy1v903"})("width:",(function(e){return.75*e.theme.spaceBase}),"px;display:inline-block;"),Re=Object(i.D)(F.k,{target:"e1oy1v904"})((function(e){var t=e.theme;return e.checked?Object(i.z)("color:",t.colors.text.white,";background-color:",t.colors.cta,";"):Object(i.z)("color:",t.colors.text.black,";background-color:",t.colors.lightVariant,";")})),ze=function(e){var t=e.rate,n=e.input,a=e.label,i=e.required,o=Object(ee.e)().isFocusVisible,c=n.value===t,l=function(e){e.preventDefault(),n.onChange(c?"":t)};return r.createElement(ke,{focused:o},r.createElement(Ce,{type:"radio",name:n.name,checked:c,value:t,"aria-required":i,"aria-label":a,onClick:l,onKeyDown:function(e){o&&"Enter"===e.key&&l(e)},onChange:m.T}),r.createElement(Re,{checked:c},"good"===t?r.createElement(F.v,null):r.createElement(F.u,null)))},De=function(e){var t=e.input,n=e.meta,i=e.required,o=n.error&&n.touched;return r.createElement(a.a,null,(function(e){return r.createElement(we,null,r.createElement(ze,{rate:"good",input:t,label:e("rate_me_good_tooltip"),required:i}),r.createElement(Se,null),r.createElement(ze,{rate:"bad",input:t,label:e("rate_me_bad_tooltip"),required:i}),r.createElement(Ee,{error:o?n.error:null}))}))},Te=n(60),_e=Object(i.D)("div",{target:"ewzcz810"})("position:relative;border:1px solid ",(function(e){return e.theme.colors.grayscale[500]}),";border-radius:",(function(e){return e.theme.borderRadius.sm}),";width:100%;background-color:",(function(e){return e.theme.colors.grayscale[50]}),";transition:border-color 100ms linear;",(function(e){var t=e.focused,n=e.theme;return Object(d.a)({margin:.25*n.spaceBase+"px 0"},t&&{borderColor:n.colors.accent,backgroundColor:n.colors.surface.light})})),Ie=Object(i.D)("select",{target:"ewzcz811"})("width:100%;-webkit-appearance:none;font-family:inherit;background-color:transparent;border:none;:focus,:active{outline:none;}::-ms-expand{display:none;}",(function(e){var t=e.theme,n=t.spaceBase,r=t.typography;return Object(d.a)({},r.input,{padding:n+"px",paddingRight:"32px",":-moz-focusring":{color:"transparent",textShadow:"0 0 0 "+r.input.color}})})),Be=Object(i.z)("position:absolute;pointer-events:none;right:0;top:calc(50% - ",16,"px);"),Me=function(e){var t=e.onFocus,n=e.onBlur,a=Object(E.a)(e,["onFocus","onBlur"]),i=r.useState(!1),o=i[0],c=i[1];return r.createElement(_e,{focused:o},r.createElement(Ie,Object(d.a)({},a,{onFocus:function(e){t&&t(e),c(!0)},onBlur:function(e){n&&n(e),c(!1)}})),r.createElement(Te.e,{"aria-hidden":!0,focusable:"false",className:Be}))},Fe=function(e){var t=e.input,n=e.meta,a=Object(E.a)(e,["input","meta"]),i=n.touched&&!!n.error;return r.createElement(r.Fragment,null,r.createElement(Me,Object(d.a)({},t,a,{"aria-invalid":i||void 0})),r.createElement(Ee,{error:i?n.error:null}))},Pe=Object(i.D)("input",{target:"e1xplv9i0"})("width:100%;border:1px solid ",(function(e){return e.theme.colors.grayscale[500]}),";-webkit-appearance:none;background-color:",(function(e){return e.theme.colors.grayscale[50]}),";font-family:inherit;box-shadow:none;transition:border-color 100ms linear,background-color 100ms linear;:focus,:active{outline:none;border-color:",(function(e){return e.theme.colors.accent}),";background-color:",(function(e){return e.theme.colors.surface.light}),";}",(function(e){var t=e.theme,n=t.spaceBase,r=t.typography,a=t.borderRadius;return Object(d.a)({borderRadius:a.def},r.input,{padding:n+"px",margin:.25*n+"px 0"})})),Ne=function(e){var t=e.value,n=e.errorMessageProps,a=e.inputRef,i=Object(E.a)(e,["value","errorMessageProps","inputRef"]);return r.createElement(r.Fragment,null,r.createElement(Pe,Object(d.a)({},i,{innerRef:a,value:t||""})),r.createElement(Ee,n))},He=Object(i.D)("textarea",{target:"e61759e0"})("width:100%;border:1px solid ",(function(e){return e.theme.colors.grayscale[500]}),";-webkit-appearance:none;background-color:",(function(e){return e.theme.colors.grayscale[50]}),";font-family:inherit;box-shadow:none;transition:border-color 100ms linear;resize:none;:focus,:active{outline:none;border-color:",(function(e){return e.theme.colors.accent}),";background-color:",(function(e){return e.theme.colors.surface.light}),";}",(function(e){var t=e.theme;return Object(d.a)({borderRadius:t.borderRadius.def},t.typography.input,{padding:t.spaceBase+"px",margin:.25*t.spaceBase+"px 0"})})),Ae=function(e){var t=e.value,n=e.errorMessageProps,a=e.textareaRef,i=Object(E.a)(e,["value","errorMessageProps","textareaRef"]);return r.createElement(r.Fragment,null,r.createElement(He,Object(d.a)({},i,{innerRef:a,value:t||""})),r.createElement(Ee,n))},Le=function(e){return r.createElement("path",Object(d.a)({d:"M4,0.5 C2.06700338,0.5 0.5,2.06700338 0.5,4 L0.5,12 C0.5,13.9329966 2.06700338,15.5 4,15.5 L12,15.5 C13.9329966,15.5 15.5,13.9329966 15.5,12 L15.5,4 C15.5,2.06700338 13.9329966,0.5 12,0.5 L4,0.5 Z"},e))},qe=function(e){return r.createElement("path",Object(d.a)({d:"M4,0 L12,0 C14.209139,-4.4408921e-16 16,1.790861 16,4 L16,12 C16,14.209139 14.209139,16 12,16 L4,16 C1.790861,16 0,14.209139 0,12 L0,4 C-4.4408921e-16,1.790861 1.790861,0 4,0 Z"},e))},Ve=function(e){return r.createElement("polyline",Object(d.a)({strokeWidth:"2",strokeDasharray:"10",strokeLinecap:"round",strokeLinejoin:"round",points:"5 7.90626754 7.06606709 10 12 5"},e))},Ue=function(e){return Object(i.z)("animation-iteration-count:1;animation-timing-function:",e.transitions.easings.linear,";animation-fill-mode:forwards;animation-duration:300ms;")},We=Object(i.C)("0%{opacity:0;}33.33%{opacity:1;}100%{opacity:1;}"),Ye=Object(i.C)("0%{stroke-dashoffset:10;}33.33%{stroke-dashoffset:10;}77.78%{stroke-dashoffset:0;}100%{stroke-dashoffset:0;}"),Ge=Object(A.b)((function(e){var t=e.className,n=e.checked,a=e.focused,o=e.theme,c=Object(E.a)(e,["className","checked","focused","theme"]);return r.createElement("svg",Object(d.a)({width:"100%",height:"100%",viewBox:"0 0 16 16",fill:"none",fillRule:"evenodd",className:Object(i.A)(Object(i.z)("border-radius:",o.borderRadius.sm,";background-color:",o.colors.grayscale[n?600:100],";"),a&&Object(i.z)("box-shadow:",o.boxShadow.outline,";"),t)},c),r.createElement(Le,{stroke:o.colors.grayscale[600],strokeWidth:"2"}),n&&r.createElement(r.Fragment,null,r.createElement(qe,{fill:o.colors.grayscale[600],className:Object(i.z)(Ue(o)," animation-name:",We,";")}),r.createElement(Ve,{stroke:o.colors.grayscale[100],className:Object(i.z)(Ue(o)," animation-name:",Ye,";")})))})),Ze=Object(i.D)("input",{target:"e81sjne0"})("opacity:0;margin:0;padding:0;height:100%;width:100%;position:absolute;"),Ke=r.forwardRef((function(e,t){var n=e.className,a=e.defaultChecked,c=void 0!==a&&a,l=e.checked,s=e.id,u=e.onBlur,p=void 0===u?m.T:u,f=e.onChange,b=void 0===f?m.T:f,h=e.onFocus,g=void 0===h?m.T:h,v=Object(E.a)(e,["className","defaultChecked","checked","id","onBlur","onChange","onFocus"]),j=r.useState(void 0!==l?l:c),O=j[0],x=j[1],y=r.useState(!1),w=y[0],k=y[1],C=Object(o.h)();void 0!==l&&O!==l&&x(l);return r.createElement("div",{className:Object(i.A)(Object(i.z)("display:inline-block;position:relative;height:16px;width:16px;"),n)},r.createElement(Ze,Object(d.a)({type:"checkbox",checked:O,id:s,onChange:function(e){b(e),void 0===l&&x((function(e){return!e}))},onFocus:function(e){g(e),"keyboard"===C()&&k(!0)},onBlur:function(e){p(e),k(!1)},innerRef:t},v)),r.createElement(Ge,{"aria-hidden":!0,checked:O,focused:w,focusable:"false"}))})),Qe=Object(A.b)((function(e){var t=e.theme,n=e.color,a=void 0===n?t.colors.border:n,i=Object(E.a)(e,["theme","color"]);return r.createElement("circle",Object(d.a)({fillRule:"nonzero",fill:a,cx:"8",cy:"8",r:"3.5"},i))})),Je=Object(A.b)((function(e){var t=e.theme,n=e.color,a=void 0===n?t.colors.grayscale[600]:n,i=Object(E.a)(e,["theme","color"]);return r.createElement("circle",Object(d.a)({style:{backgroundColor:"black"},fillRule:"nonzero",cx:"8",cy:"8",r:"7.5",stroke:a,strokeWidth:"2"},i))})),Xe=Object(i.C)("0%{transform:scale(0,0);}50%{transform:scale(1.1,1.1);}66.67%{transform:scale(1.1,1.1);}83.33%{transform:scale(0.95,0.95);}100%{transform:scale(1,1);}"),$e=function(e){return Object(i.z)("animation-duration:200ms;animation-iteration-count:1;animation-fill-mode:forwards;animation-timing-function:",e.transitions.easings.linear,";")},et=Object(A.b)((function(e){var t=e.className,n=e.checked,a=e.focused,o=e.theme,c=Object(E.a)(e,["className","checked","focused","theme"]);return r.createElement("svg",Object(d.a)({width:"100%",height:"100%",viewBox:"0 0 16 16",fill:"none",fillRule:"evenodd",className:Object(i.A)(Object(i.z)("border-radius:",o.borderRadius.round,";background-color:",o.colors.grayscale[n?600:100],";"),a&&Object(i.z)("box-shadow:",o.boxShadow.outline,";"),t)},c),r.createElement(Je,null),n&&r.createElement(r.Fragment,null,r.createElement(Qe,{color:o.colors.grayscale[100],className:Object(i.z)($e(o)," animation-name:",Xe,";transform-origin:50% 50%;")})))})),tt=Object(i.D)("input",{target:"e12lg4gr0"})("opacity:0;margin:0;padding:0;height:100%;width:100%;position:absolute;"),nt=function(e){var t=e.className,n=e.defaultChecked,a=void 0!==n&&n,c=e.checked,l=e.id,s=e.onBlur,u=void 0===s?m.T:s,p=e.onChange,f=void 0===p?m.T:p,b=e.onFocus,h=void 0===b?m.T:b,g=Object(E.a)(e,["className","defaultChecked","checked","id","onBlur","onChange","onFocus"]),v=r.useState(void 0!==c?c:a),j=v[0],O=v[1],x=r.useState(!1),y=x[0],w=x[1],k=Object(o.h)();void 0!==c&&j!==c&&O(c);return r.createElement("div",{className:Object(i.A)(Object(i.z)("display:inline-block;position:relative;height:16px;width:16px;"),t)},r.createElement(tt,Object(d.a)({type:"radio",checked:j,id:l,onChange:function(e){f(e),void 0===c&&O((function(e){return!e}))},onBlur:function(e){u(e),w(!1)},onFocus:function(e){h(e),"keyboard"===k()&&w(!0)},required:!0},g)),r.createElement(et,{"aria-hidden":!0,checked:j,focused:y,focusable:"false"}))},rt=n(184);var at=function(e){var t=e.label,n=e.submitting,a=e.disabled,i=Object(E.a)(e,["label","submitting","disabled"]);return r.createElement(rt.a,Object(d.a)({pending:n,disabled:n||a,type:"submit"},i),r.createElement("span",null,t))},it=n(350),ot={},ct={submitError:!0},lt={submitting:!0},st={values:!0},ut=Object(be.a)(),dt={format:function(e){return Object(m.ub)(e||"")},formatOnBlur:!0},mt=function(e){var t=e.meta,n=Object(K.h)(),r=null;return t.submitError&&!t.dirtySinceLastSubmit?r=t.submitError:t.touched&&t.error&&(r=t.error),{validationState:r?"invalid":"valid",errorMessageProps:{error:r,id:n}}},pt=function(e,t){var n=t.name,r=t.ariaLabel,a=t.ariaLabelledBy,i=t.label,o=t.required,c=t.type,l=t.autoComplete,s=t.inputElementType,u=Object(fe.c)(n,dt),m=mt(u),p=m.validationState,f=m.errorMessageProps,b=Object(it.a)(Object(d.a)({id:n,type:c,inputElementType:s,isRequired:o,autoComplete:l,validationState:p,"aria-errormessage":f.id,label:i,"aria-label":r,"aria-labelledby":a},u.input),e);return{inputProps:b.inputProps,labelProps:b.labelProps,errorMessageProps:f}},ft=function(){return r.createElement(fe.b,{subscription:ct},(function(e){var t=e.submitError;return r.createElement(Ee,{error:t||null})}))},bt=n(120),ht=Object(i.D)("div",{target:"e1n7ru1l0"})("text-align:center;"),gt=[ut],vt=function(e){var t=e.id,n=e.children,a=e.initialValues,i=e.submitLabel,c=e.validate,l=e.onSubmit,s=e.disabled,u="form_"+t;return Object(o.m)((function(){Object(bt.c)()&&function(e){var t=Object(be.b)(e)();if(t.length){var n=t[0],r=n.tagName;("INPUT"===r&&!Object(m.C)(n.type,["checkbox","radio"])||"TEXTAREA"===r)&&Object(K.c)(n)}}(u)})),r.createElement(fe.a,{decorators:gt,initialValues:a,onSubmit:l,subscription:ot,validate:c},(function(e){var t=e.handleSubmit;return r.createElement(he,{name:u,onSubmit:t},n,r.createElement(ft,null),r.createElement(ht,null,r.createElement(fe.b,{subscription:lt},(function(e){var t=e.submitting;return r.createElement(at,{submitting:t,label:i,disabled:s})}))))}))},Et=Object(i.D)("div",{target:"eptvlbh0"})("display:flex;flex-direction:column;width:100%;margin-bottom:",(function(e){return e.theme.spaceBase+"px"}),";"),jt=n(183),Ot=n.n(jt),xt=n(182),yt=n(59),wt=n(34),kt=function(e){var t=e.children,n=e.showRequiredMark,a=void 0!==n&&n,i=Object(E.a)(e,["children","showRequiredMark"]);return r.createElement(Oe,Object(d.a)({isRequired:a},i),"string"===typeof t?r.createElement(Ot.a,{component:xt.a},r.createElement(yt.a,{preserveLists:!0,template:t,root:{component:wt.a}})):t)},Ct=function(e){var t=r.useRef(null),n=e.label,a=e.required,i=pt(t,Object(d.a)({},e,{inputElementType:"textarea"})),o=i.inputProps,c=i.labelProps,l=i.errorMessageProps;return r.createElement(Et,null,n&&r.createElement(kt,Object(d.a)({showRequiredMark:a},c),n),r.createElement(Ae,Object(d.a)({},o,{errorMessageProps:l,textareaRef:t})))},St=n(19),Rt=Object(i.D)("div",{target:"e1lbo1s40"})("display:flex;justify-content:center;flex-shrink:0;"),zt=Object(i.D)("div",{displayName:"IconLabel",target:"e1lbo1s41"})("display:flex;justify-content:center;align-items:center;",(function(e){var t=e.size,n=e.theme,r=e.forceLightTheme;return{width:t,height:t,borderRadius:n.borderRadius.round,backgroundColor:!r&&Object(St.d)(n.colors.agentBarBackground)?n.colors.grayscale[500]:n.colors.surface.lightVariant}}),";"),Dt=function(e){var t=e.size,n=void 0===t?"64px":t,a=e.children,i=Object(E.a)(e,["size","children"]);return r.createElement(Rt,null,r.createElement(zt,Object(d.a)({size:n},i),a))},Tt=n(364),_t=n(367),It=Object(i.D)("div",{displayName:"Tooltip",target:"ezqijrk0"})("display:inline-block;background-color:",(function(e){var t=e.theme;return"dark"===e.appearance?t.colors.surface.darkVariant:t.colors.surface.light}),";color:",(function(e){var t=e.theme;return"dark"===e.appearance?t.colors.text.white:t.colors.text.black}),";padding:1em;position:fixed;border-radius:",(function(e){return e.theme.borderRadius.lg}),";z-index:9;font-size:0.8em;font-weight:normal;margin-top:0.5em;margin-bottom:0.5em;box-shadow:",(function(e){return e.theme.boxShadow.floating}),";transition:",(function(e){var t=e.theme;return"opacity 200ms "+t.transitions.easings.swift+", transform 300ms "+t.transitions.easings.swift}),";",(function(e){var t=e.position;return{left:t.left?t.left-10+"px":"auto",right:t.right?t.right-10+"px":"auto",top:t.top?t.top+"px":"auto",bottom:t.bottom?t.bottom:"auto",marginRight:t.right?0:"10px",marginLeft:t.left?0:"10px"}}),";"),Bt=Object(i.D)("svg",{displayName:"TooltipArrow",target:"ezqijrk1"})("position:absolute;fill:",(function(e){var t=e.theme;return"dark"===e.appearance?t.colors.surface.darkVariant:t.colors.surface.light}),";margin-top:-1.5em;margin-bottom:-1.5em;",(function(e){var t=e.position,n=e.horizontalFactor,r=e.placement,a=void 0===r?"top":r,i=e.theme;return Object(d.a)({left:t.left?n-10+("modern"===i.name?3:-1)+"px":"auto",right:t.right?n-10+("modern"===i.name?3:-1)+"px":"auto"},"bottom"===a?{top:0}:{bottom:0,transform:"rotate(180deg)"})}),";"),Mt=Object(i.D)("div",{target:"ezqijrk2"})("position:relative;"),Ft=function(e,t){var n=e.getBoundingClientRect(),r=n.left,a=n.right,i=n.bottom,o=n.top,c=window,l=c.innerWidth,s=c.innerHeight,u=c.pageXOffset,d=c.pageYOffset;return"top"===t?{bottom:s-(o+d),right:l-(a+u)}:r+u>l/2?{top:i+d,right:l-(a+u)}:{top:i+d,left:r+u}},Pt={position:{top:0,left:0},targetWidth:0};var Nt=function(e){var t=e.children,n=e.description,a=e.allowTouch,i=e.controlsRef,c=(e.className,e.animated),s=void 0!==c&&c,u=e.placement,p=void 0===u?"bottom":u,f=e.appearance,b=void 0===f?"dark":f,h=e.trigger,g=void 0===h?"hover":h,v=e.onOpenChange,j=void 0===v?m.T:v,O=Object(E.a)(e,["children","description","allowTouch","controlsRef","className","animated","placement","appearance","trigger","onOpenChange"]),x=r.useRef(null);Object(ee.i)();var y=r.useRef(null),w=r.useRef(!1),k=r.useState(Pt),C=k[0],S=k[1],R=r.useState(!1),z=R[0],D=R[1],T=Object(_t.a)(Object(d.a)({onOpenChange:function(e){s&&requestAnimationFrame((function(){return D(e)}));var t=function(){j(e,w.current),w.current=!1};e?(S({position:Ft(y.current,p),targetWidth:y.current.offsetWidth}),requestAnimationFrame(t)):t()}},O));(null==i?void 0:i.current)&&(i.current={open:function(){w.current=!0,T.open(!0)},close:function(){w.current=!0,T.close(!0)}});var _,I=Object(Tt.b)(O,T,y),B=I.tooltipProps,M=I.triggerProps,F=Object(Tt.a)(B,T).tooltipProps,P=Object(ee.k)({onPress:function(){T.open(!0)}}).pressProps;return Object(o.l)(x,(function(){T.close(!0)})),O.isDisabled&&T.isOpen&&T.close(),r.createElement(l.b,Object(d.a)({},"press"===g?P:a?Object(K.e)(M,P):M,{ref:y}),t,T.isOpen&&r.createElement($,{portalId:"tooltip_portal_container"},r.createElement(It,Object(d.a)({innerRef:x,appearance:b,position:C.position},"hover"===g&&F,s&&{style:{opacity:(_=z)?1:0,transform:"translateY("+(_?0:8)+"px)"}}),r.createElement(Mt,null,r.createElement(Bt,{appearance:b,placement:p,horizontalFactor:C.targetWidth/2,height:"10",position:C.position,width:"16"},r.createElement("polygon",{points:"0,10 16,10 8,0"})),n))))},Ht=Object(i.z)("text-align:center;"),At=Object(i.z)("font-size:inherit;"),Lt=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={open:!1,selectedRate:t.props.chatRate},t.handleRate=Object(m.P)((function(e){return function(){var n=t.state.selectedRate===e,r=n?null:e;t.rateChat(r),t.setState({selectedRate:r,open:!n})}})),t.closeModal=function(){t.setState({open:!1})},t.validate=function(e){if(!e.comment)return{comment:t.props.localize("survey_fill_in_required_fields")}},t.handleSubmit=function(e){t.props.rateChat({comment:e.comment}),t.closeModal()},t.getRateButtonProps=function(e){var n=t.props,r=n.chatRate;return{disabled:n.disabled,active:r===e,onPress:t.handleRate(e),"aria-label":r===e?"Cancel "+e+" rating":"Rate as "+e+" and open comment modal"}},t}Object(Y.a)(t,e);var n=t.prototype;return n.componentDidUpdate=function(e){e.chatRate!==this.props.chatRate&&this.setState({selectedRate:this.props.chatRate})},n.rateChat=function(e){var t=this;this.props.rateChat({rate:e}).catch((function(){return t.setState({selectedRate:t.props.chatRate})}))},n.render=function(){var e=this.state,t=e.open,n=e.selectedRate,a=this.props,o=a.disabled,c=a.chatRate,l=a.mobile,s=a.localize,u=s("good"===c?"rate_me_cancel_tooltip":"rate_me_good_tooltip"),d=s("bad"===c?"rate_me_cancel_tooltip":"rate_me_bad_tooltip");return r.createElement(r.Fragment,null,r.createElement(Nt,{isDisabled:o,description:u},r.createElement(F.j,this.getRateButtonProps("good"),r.createElement(F.v,{className:At,"aria-hidden":!0}))),r.createElement(Nt,{isDisabled:o,description:d},r.createElement(F.j,this.getRateButtonProps("bad"),r.createElement(F.u,{className:At,"aria-hidden":!0}))),r.createElement(pe,{shown:t,onClose:this.closeModal},r.createElement(Dt,{forceLightTheme:!0},"good"===n?r.createElement(F.v,{label:s("rate_me_confirmation_good")}):r.createElement(F.u,{label:s("rate_me_confirmation_bad")})),r.createElement("p",{id:"add_rate_comment_label",className:Ht},s("rate_me_add_comment")),r.createElement(vt,{id:"rate_comment",mobile:l,onSubmit:this.handleSubmit,submitLabel:s("button_add_feedback"),validate:this.validate,disabled:""},r.createElement(i.q,null,r.createElement(Ct,{name:"comment",ariaLabelledBy:"add_rate_comment_label",mobile:l,required:!0})))))},t}(r.Component),qt=Object(a.c)((function(e,t){var n=t.chatId,r=function(t){var r=t.rate,a=t.comment,i={};return void 0!==r&&(i.rate=r),void 0!==a&&(i.rateComment=a),e.requestUpdateChat(n,{properties:i})};return function(e){var t=e.getChat(n),a=t.active,i=t.properties,o=i.ended;return{chatRate:i.rate,disabled:!o&&!a,iconTheme:e.getApplicationState("config").theme.iconTheme,mobile:e.getApplicationState("mobile"),rateChat:r,localize:e.localize}}}))(Lt),Vt=Object(i.z)("margin-right:0;"),Ut=Object(i.D)("div",{target:"ekqutxs0"})("display:flex;align-items:center;position:relative;margin-right:0.5em;"),Wt=Object(i.D)("div",{target:"ekqutxs1"})("position:absolute;",(function(e){var t=e.availability,n=e.size,r=e.theme;return{width:"small"===n?r.spaces.space4:r.spaces.space5,height:"small"===n?r.spaces.space4:r.spaces.space5,background:"online"===t?r.colors.success:r.colors.grayscale[500],border:"2px solid "+r.colors.surface.light,borderRadius:r.borderRadius.round,top:"-2px",right:"-2px"}})),Yt=function(e){var t=e.avatarUrl,n=e.availability,a=e.size,o=void 0===a?"normal":a;return r.createElement(Ut,null,r.createElement(i.b,{className:Vt,imgUrl:t,size:"small"===o?"24px":void 0}),n&&r.createElement(Wt,{availability:n,size:o}))},Gt=Object(i.z)("justify-content:center;"),Zt=Object(i.D)("div",{target:"e10kp68a0"})("width:100%;display:flex;"),Kt=Object(i.z)(Gt," flex:1;"),Qt=Object(i.z)(Gt," min-width:auto;"),Jt=Object(i.D)("img",{target:"e10kp68a1"})("height:auto;max-height:50px;"),Xt=Object(m.P)((function(e){return function(t){return t.position===e}})),$t=function(e){var t=e.agent,n=e.chatId,a=e.showAvatar,o=e.logoPath;return r.createElement(Zt,null,a&&t.avatar&&r.createElement(Yt,{avatarUrl:t.avatar,availability:"online"}),r.createElement(i.q,{flexFill:!0},r.createElement(i.f,{className:Kt,flexFill:!0},r.createElement(i.w,{ellipsis:!0},r.createElement(wt.a,null,t.name)),t.properties.jobTitle&&r.createElement(i.s,{ellipsis:!0},r.createElement(wt.a,null,t.properties.jobTitle)),r.createElement(W,{condition:Xt("bottom"),name:"rating"},r.createElement(i.q,null,r.createElement(qt,{chatId:n})))),r.createElement(W,{condition:Xt("right"),name:"rating"},r.createElement(i.f,{className:Gt,noShrink:!0},r.createElement(i.q,null,r.createElement(qt,{chatId:n})))),!!o&&r.createElement(i.f,{className:Qt},r.createElement(Jt,{alt:"",src:o}))))},en=function(e){return void 0===e&&(e=3),Object(i.z)("-webkit-line-clamp:",e,";-webkit-box-orient:vertical;-webkit-box-pack:center;display:-webkit-box;text-overflow:ellipsis;overflow:hidden;")},tn=Object(i.D)(F.j,{target:"eyohww40"})("width:24px;height:24px;opacity:1;"),nn=Object(i.D)(F.d,{target:"eyohww41"})((function(e){return"up"===e.direction&&{transform:"rotate(180deg)"}})," transition:transform 0.3s ",(function(e){return e.theme.transitions.easings.smooth}),";"),rn=Object(i.D)(V,{target:"eyohww42"})("display:flex;text-align:left;overflow:hidden;height:auto;width:100%;align-items:",(function(e){return e.veritcallyCenter?"center":"flex-start"}),";transition:height 0.3s ",(function(e){return e.theme.transitions.easings.smooth}),";will-change:height;a{color:inherit;}"),an=Object(i.D)("div",{target:"eyohww43"})("height:",34,"px;display:flex;align-items:center;"),on=Object(i.D)(Dt,{target:"eyohww44"})("margin:4px 15px 4px 0;"),cn=function(e){var t=e.text,n=e.icon,i=e.isLoadingHistory,o=e.forceExpanded,c=r.useState(!0),l=c[0],s=c[1],u=r.useState(!1),d=u[0],m=u[1],p=r.useState(null),f=p[0],b=p[1],h=r.useState(!1),g=h[0],v=h[1],E=r.useRef(null),j=Object(K.h)(),O=r.useCallback((function(){if(l){var e=E.current.clientHeight;e!==f&&b(e),E.current.style.height=e+"px",E.current.scrollTop}E.current.style.height=(l?34:Number(f))+"px",s((function(e){return!e}))}),[l,f]),x=function(){l&&(E.current.style.height="auto")};return r.useEffect((function(){if(E&&!o){var e=E.current.clientHeight>34;m(e)}E&&o&&(E.current.style.height="auto",m(!1))}),[E,o]),r.useEffect((function(){d&&(b(E.current.clientHeight),E.current.style.height="34px",v(!0),s(!1))}),[d]),r.useEffect((function(){i&&l&&O()}),[i,l,O]),r.createElement(a.a,null,(function(e){return r.createElement(rn,{innerRef:E,row:!0,veritcallyCenter:!d,onTransitionEnd:x,textWrap:!0},r.createElement(an,{"aria-hidden":!0},r.createElement(on,{size:"24px"},n)),r.createElement("div",{className:!l&&d?en(2):"",id:j},r.createElement(Ot.a,{componenet:xt.a},r.createElement(yt.a,{template:l?t:Object(St.g)(120,t),root:{component:wt.a}}))),d&&r.createElement(an,null,r.createElement(tn,{onPress:O,"aria-expanded":l,"aria-controls":j,"aria-label":e(l?"show_less":"show_more")},r.createElement(nn,{size:24,direction:g&&l?"up":"down","aria-hidden":!0}))))}))},ln=Object(i.D)(i.a,{target:"eraual0"})("position:relative;box-shadow:",(function(e){return e.theme.boxShadow.sm}),";"),sn=Object(i.D)("div",{displayName:"TopBar",target:"eraual1"})("position:relative;height:auto;bottom:0;z-index:1;@media (max-height:330px){display:none;}"),un=Object(i.D)("div",{target:"eraual2"})("min-height:calc(",34,"px + 2 * ",(function(e){return e.theme.AgentBar.css.padding}),");"),dn=Object(i.D)(i.a,{target:"eraual3"})("position:absolute;top:0;left:0;width:100%;box-shadow:",(function(e){return e.theme.boxShadow.sm}),";",(function(e){return e.collapsed&&Object(i.z)("position:relative;box-shadow:none;padding:0;")})),mn=Object(i.D)("div",{target:"eraual4"})("position:relative;width:100%;z-index:",(function(e){return e.collapsed?2:1}),";"),pn={enter:150,exit:150},fn=Object(i.z)("&-enter,&-appear{transform:translateY(-100%);}&-enter-active,&-appear-active,&-enter-done,&-appear-done{transform:translateY(0);transition:transform ",150,"ms ","cubic-bezier(0.14, 0, 0, 1)",";}&-exit{transform:translateY(0);}&-exit-active{transform:translateY(-100%);transition:transform ",150,"ms ","cubic-bezier(0.14, 0, 0, 1)",";}"),bn=Object(i.z)("transition:opacity 100ms ease-in-out;position:relative;"),hn=Object(a.c)((function(e,t){var n=t.chatId;return function(e){var t,r=e.getView("Chat/queue"),a=Object(u.cb)(e),i=Object(u.fb)(e),o=Object(u.gb)(e),c=Object(u.g)("logo",e),l=c.enabled&&"modern"===Object(u.u)(e);return{agent:Object(u.c)(n,e),chatActive:e.getChat(n).active,showAvatar:Object(u.g)("agentAvatar",e).enabled,logoPath:l?(t=c.path,"https://"+Object(L.k)(t)):null,showAgentBar:a,showOfflineInformation:i,showQueueInformation:o,offlineInformation:e.localize(e.getApplicationState("limitReached")||!Object(u.E)(e)?"agents_not_available":"agents_not_available_continuous"),queueTemplate:Object(u.o)(e),numberInQueue:r&&r.numberInQueue,waitingTime:r&&r.waitingTime,showTopBar:Object(u.V)(e),hasNoVisibleEvents:Object(u.z)(e)}}}))(Object(A.b)((function(e){var t=e.agent,n=e.chatId,a=e.showAvatar,c=e.logoPath,l=e.showAgentBar,s=e.scrollingDeltaSource,u=e.isOnBottomSource,d=e.showOfflineInformation,f=e.offlineInformation,b=e.showQueueInformation,h=e.queueTemplate,g=e.numberInQueue,v=e.waitingTime,E=e.showTopBar,O=e.isLoadingHistory,x=e.children,y=e.hasNoVisibleEvents,w=r.useRef(),k=r.useRef(),C=r.useRef(0),S=r.useState(!0),R=S[0],z=S[1],D=r.useCallback((function(){z(!0),w.current&&(w.current.style.bottom=0,w.current.style.height="auto"),k.current&&(k.current.style.opacity=1)}),[w]);return Object(o.a)(s,(function(e){var t=e.y;l&&("auto"===w.current.style.height&&(C.current=w.current.offsetHeight),1===t&&z(!1),!R&&t<1&&z(!0),w.current&&(w.current.style.bottom=t*C.current+"px",w.current.style.height=C.current-t*C.current+"px"),k.current&&(k.current.style.opacity=1-2*t))})),r.useEffect((function(){D()}),[E,D]),r.useEffect((function(){if(u)return u.subscribe((function(e){e&&D()}))}),[u,D]),r.useEffect((function(){w.current&&Object(m.qb)(w.current.querySelectorAll("button")).forEach((function(e){e.tabIndex=R?0:-1}))}),[R]),r.createElement(r.Fragment,null,r.createElement(sn,{id:"top-bar",innerRef:w},r.createElement(p.a,{appear:!0,component:null,exit:R},l&&r.createElement(j.a,{timeout:pn,classNames:fn},r.createElement("div",null,r.createElement(q,null),r.createElement(ln,{noShrink:!0},r.createElement(i.q,{flexFill:!0,innerRef:k,className:bn},r.createElement($t,{agent:t,chatId:n,showAvatar:a,logoPath:c}))))))),r.createElement(mn,{collapsed:!(b||d)},(b||d)&&r.createElement(r.Fragment,null,r.createElement(q,null),r.createElement(un,null)),r.createElement(p.a,{appear:b||d,component:null},r.createElement(j.a,{timeout:pn,classNames:fn},r.createElement(dn,{collapsed:!(b||d)},b&&r.createElement(cn,{text:h.replace(/%number%/g,"**"+g+"**").replace(/%minutes%/g,"**"+Math.floor(v/60)+"**"),icon:r.createElement(F.i,{size:24}),isLoadingHistory:O,forceExpanded:y}),d&&r.createElement(cn,{text:f,icon:r.createElement(F.l,null),isLoadingHistory:O,forceExpanded:y}),x)))))}))),gn=n(340),vn=n(187),En=function(e){var t=e.children;return r.createElement(i.i,{date:"",showMetaOnClick:!1,system:!0},r.createElement(i.c,null,r.createElement(vn.a,{text:t})))},jn=n(190),On=Object(i.D)(jn.a,{displayName:"SystemCard",target:"e1r9cm3y0"})("padding:8px;margin:2px 0;width:100%;max-width:270px;position:relative;"),xn=Object(i.D)("div",{target:"e1q4zsg90"})("display:flex;flex-direction:row;position:absolute;top:-21px;left:0;right:0;color:",(function(e){return e.theme.colors.text.white}),";"),yn=Object(i.D)("div",{target:"e1q4zsg91"})("display:flex;justify-content:center;align-items:center;overflow:hidden;margin:0 auto;border-radius:",(function(e){return e.theme.borderRadius.round}),";width:",42,"px;height:",42,"px;background-color:",(function(e){var t=e.theme;return e.backgroundColor||t.colors.cta}),";"),wn=function(e){var t=e.children,n=e.backgroundColor;return r.createElement(xn,{"aria-hidden":!0},r.createElement(yn,{backgroundColor:n},t))},kn=function(e){return Object(i.z)("margin-left:4px;margin-top:3px;fill:currentColor;transform:","scaleY("+("up"===e?-1:1)+")",";")},Cn=function(e){var t=e.direction,n=void 0===t?"down":t,a=Object(E.a)(e,["direction"]);return r.createElement("svg",Object(d.a)({viewBox:"0 0 7 4",width:"7px",height:"4px",className:kn(n)},a),r.createElement("path",{d:"M1.1,0.2C0.9,0,0.5,0,0.4,0.2s-0.2,0.5,0,0.7l2.8,2.8c0.2,0.2,0.5,0.2,0.7,0l2.8-2.8c0.2-0.2,0.2-0.5,0-0.7S6.2,0,6,0.2 L3.5,2.7L1.1,0.2z"}))},Sn=n(20),Rn=Object(i.D)("button",{target:"eentevd0"})("display:flex;flex-direction:row;align-items:center;justify-content:center;width:100%;background:none;border:none;margin-top:8px;font-size:12px;text-align:center;cursor:pointer;color:",(function(e){var t=e.theme;return Object(St.e)(t.colors.cta)?Object(Sn.e)(.6,t.colors.cta):t.colors.cta}),";"),zn=Object(i.D)("div",{target:"e1g195pu0"})("position:absolute;top:50%;bottom:0;left:0;right:0;pointer-events:none;background:linear-gradient(rgba(255,255,255,0),rgba(255,255,255,0.9));"),Dn=Object(i.D)("div",{target:"e9s6ynt0"})("position:relative;overflow:hidden;height:auto;transition:max-height 300ms ",(function(e){return e.theme.transitions.easings.swift}),";"),Tn=Object(i.D)("div",{target:"e1cdxu9o0"})("height:auto;padding:8px;"),_n=Object(a.c)((function(e,t){var n=t.icon,r=e.getApplicationState("config").theme;return{showIcon:!!n&&"modern"!==r.name,rtl:e.getApplicationState("rtl"),localize:e.localize}}))((function(e){var t,n,a=e.icon,c=e.showIcon,l=e.children,s=e.collapsible,u=void 0!==s&&s,p=e.defaultCollapsed,f=void 0!==p&&p,b=e.collapsedHeight,g=void 0===b?100:b,v=e.collapseThreshold,E=void 0===v?20:v,j=e.rtl,O=e.localize,x=e.dataTestId,y=(void 0===x&&h.a,r.useRef(0)),w=r.useRef(!1),k=r.useRef(null),C=r.useRef(null),S=Object(ee.e)(),R=Object(ee.e)(),z=r.useState(!1),D=z[0],T=z[1],_=r.useState(u),I=_[0],B=_[1],M=Object(o.d)(m.v),F=Object(o.d)((function(){return u&&f?(e=g+"px",Object(i.z)("max-height:",e,";")):null;var e})),P=r.useCallback((function(e){C.current.style.maxHeight="number"===typeof e?e+"px":e}),[]),N=r.useCallback((function(){T(!D)}),[D]),H=r.useCallback((function(){D||P("none")}),[D,P]);return r.useEffect((function(){return function(){return cancelAnimationFrame(y.current)}}),[]),r.useEffect((function(){var e=k.current.offsetHeight,t=e>g&&e-g>E;B(t&&u),!w.current&&u&&T(t&&f),w.current=u}),[u,f,g,E]),r.useEffect((function(){I?(P(k.current.offsetHeight),D&&(cancelAnimationFrame(y.current),y.current=requestAnimationFrame((function(){return P(g)})))):P("none")}),[I,D,g,P]),r.createElement("div",{className:Object(i.A)(c&&(n="21px",Object(i.z)("padding-top:",n,";"))),role:"row"},r.createElement(On,Object(d.a)({rtl:j,role:"gridcell"},S),c?a:null,r.createElement(Dn,{id:M,"aria-hidden":D,innerRef:C,onTransitionEnd:H,className:Object(i.A)(c&&(t="12px",Object(i.z)("margin-top:",t,";")),F)},r.createElement(Tn,{innerRef:k},l),D&&r.createElement(zn,null)),I&&r.createElement(Rn,Object(d.a)({onClick:N,"aria-controls":M,"aria-expanded":!D},R),r.createElement("span",null,O(D?"show_more":"show_less")),r.createElement(Cn,{direction:D?"down":"up","aria-hidden":!0}))))})),In=Object(i.D)("label",{target:"e1fikopb0"})("display:block;padding-bottom:12px;",(function(e){return e.theme.typography.basic})),Bn=Object(i.D)(Te.m,{target:"e1fikopb1"})("margin:0;padding:0;display:flex;width:40px;cursor:pointer;border:1px solid;align-items:center;justify-content:center;"),Mn=Object(i.D)(Bn,{target:"e1fikopb2"})("border-radius:",(function(e){return e.theme.borderRadius.none}),";",(function(e){var t,n=e.rtl?"Left":"Right";return Object(i.z)(((t={})["borderTop"+n+"Radius"]=6,t["borderBottom"+n+"Radius"]=6,t))})," color:",(function(e){var t=e.theme;return e.disabled?t.colors.text.white:t.colors.ctaText}),";border:1px solid ",(function(e){var t=e.theme;return e.disabled?t.colors.text.muted:t.colors.cta}),";background-color:",(function(e){var t=e.theme;return e.disabled?t.colors.text.muted:t.colors.cta}),";"),Fn=Object(i.D)(Bn,{target:"e1fikopb3"})("color:",(function(e){return e.theme.colors.text.black}),";border:none;background-color:transparent;"),Pn=Object(i.D)("span",{target:"e1fikopb4"})("width:100%;align-items:center;padding:8px;margin:1px;",(function(e){return e.theme.typography.input})," ",(function(e){var t=e.active,n=e.theme;return t&&Object(i.z)("color:",n.colors.cta,";")})),Nn=Object(i.D)("form",{target:"e1fikopb5"})("display:flex;position:relative;flex-direction:row;"),Hn=Object(i.D)("div",{target:"e1fikopb6"})("display:flex;justify-content:center;align-items:center;height:100%;position:absolute;padding:0 6px;color:",(function(e){return e.theme.colors.text.black}),";",(function(e){var t;return(t={})[e.rtl?"right":"left"]=0,t})),An=function(e){var t,n=e?"Left":"Right",r=e?"Right":"Left";return Object(i.z)(((t={margin:0,minWidth:0})["padding"+r]=34,t["border"+n]="none",t["borderTop"+n+"Radius"]=0,t["borderBottom"+n+"Radius"]=0,t))},Ln=Object(a.c)((function(e,t){var n=t.id,r=t.chatId,a=function(t){return Object(g.O)(e,{email:t}),new Promise((function(t){return e.once("customer_updated",t)}))};return function(e){var t=e.getSessionUser().email,i=e.getApplicationState().rtl,o=e.getEvent(r,n).thread,c=e.getChat(r).properties;return{rtl:i,email:t,updateSessionUserEmail:a,firstTimeMessage:e.localize("email_prompt_first_time"),confirmationMessage:e.localize("email_prompt_confirmation"),active:o===c.lastThread}}}))((function(e){var t=e.rtl,n=e.email,a=e.active,i=e.firstTimeMessage,c=e.confirmationMessage,l=e.updateSessionUserEmail,s=r.useRef(null),u=r.useRef(null),m=r.useState(!n),p=m[0],f=m[1],b=r.useState(n||""),h=b[0],g=b[1],v=n?c:i,E=Object(it.a)({type:"email",autoComplete:"email",placeholder:"Email",value:h,onChange:g,label:v},u),j=E.inputProps,O=E.labelProps,x=function(){return l(h).then((function(){return f(!1)}))},y=r.useCallback((function(){f(!0),g(n||"")}),[n]),w=r.useCallback((function(){n&&f(!1)}),[n]);Object(o.l)(s,w);var k=!n||a&&p,C=!h||h===n;return r.createElement(_n,null,r.createElement(In,k&&O,r.createElement(Ot.a,{componenet:xt.a},r.createElement(yt.a,{preserveLists:!0,template:v,root:{component:wt.a}}))),r.createElement(Nn,{innerRef:s,onSubmit:function(e){e.preventDefault(),x()}},k?r.createElement(r.Fragment,null,r.createElement(Pe,Object(d.a)({},j,{className:An(t)})),r.createElement(Hn,{rtl:t},r.createElement(Te.q,{"aria-hidden":!0})),r.createElement(Mn,{rtl:t,type:"submit",onPress:x,disabled:C,"aria-label":"Submit an email"},r.createElement(Te.a,{"aria-hidden":!0}))):r.createElement(r.Fragment,null,r.createElement(Pn,{ellipsis:!0,active:a},n),a&&r.createElement(Fn,{onPress:y,"aria-label":"Edit an email"},r.createElement(Te.h,{"aria-hidden":!0})))))})),qn=Object(i.D)("div",{target:"efus62t0"})("margin-bottom:8px;a{color:inherit;}"),Vn=Object(i.D)("div",{target:"efus62t1"})("width:100%;margin-bottom:2px;font-size:14px;color:",(function(e){return e.theme.colors.text.muted}),";"),Un=Object(i.D)("div",{target:"efus62t2"})("width:100%;font-size:14px;color:",(function(e){return e.theme.colors.text.black}),";"),Wn=function(e){var t=e.fields;return r.createElement("div",null,t.map((function(e,t){var n=e.label,a=e.answer;return r.createElement(qn,{key:t},r.createElement(Vn,{textWrap:!0},r.createElement(Ot.a,{component:xt.a},r.createElement(yt.a,{preserveLists:!0,template:n,root:{component:wt.a}}))),r.createElement(Un,{textWrap:!0},r.createElement(wt.a,null,"string"===typeof a?a:a.join(", "))))})))},Yn=function(e){function t(){return e.apply(this,arguments)||this}Object(Y.a)(t,e);var n=t.prototype;return n.componentWillUnmount=function(){var e=this.props,t=e.form,n=e.name,r=t.getFieldState(n);r&&r.value&&t.change(n,void 0)},n.render=function(){return this.props.children},t}(r.Component);var Gn=function(e){var t=e.when,n=e.children;return t?r.createElement(fe.b,{subscription:st},(function(n){var a=n.form;return n.values[t]?r.createElement(Yn,Object(d.a)({},e,{form:a})):null})):r.createElement(r.Fragment,null,n)},Zn=Object(i.D)("p",{target:"ecj3oet0"})("margin:0;a{color:inherit;}",(function(e){return e.theme.typography.basic})),Kn=function(e){var t=e.children;return r.createElement(Zn,null,"string"===typeof t?r.createElement(Ot.a,{component:xt.a},r.createElement(yt.a,{template:t,root:{component:wt.a}})):t)},Qn=n(341),Jn=n(368),Xn=n(351),$n=function(e){var t=e.children,n=e.showRequiredMark,a=void 0!==n&&n,i=Object(E.a)(e,["children","showRequiredMark"]);return r.createElement(ye,Object(d.a)({isRequired:a},i),"string"===typeof t?r.createElement(Ot.a,{component:xt.a},r.createElement(yt.a,{preserveLists:!0,template:t,root:{component:wt.a}})):t)},er=Object(i.D)(i.q,{target:"egdebj40"})((function(e){var t=e.theme,n=t.spaceBase,r=t.typography;return Object(d.a)({},r.basic,{margin:.5*n+"px 0"})})),tr=Object(i.D)(Oe,{target:"egdebj41"})((function(e){return{paddingLeft:e.theme.spaceBase+"px"}})),nr=Object(i.z)("flex-shrink:0;"),rr=function(e){var t=e.inputId,n=e.label,a=e.children;return r.createElement(er,null,r.createElement("div",{className:nr},a),r.createElement(tr,{htmlFor:t},r.createElement(wt.a,null,n)))},ar=Object(i.z)("border:none;margin:0;padding:0;max-height:100%;"),ir=function(e){var t=e.checkboxGroupState,n=e.label,a=e.inputId,i=Object(E.a)(e,["checkboxGroupState","label","inputId"]),o=r.useRef(null),c=Object(Xn.a)(),l=Object(Jn.a)(Object(d.a)({},i,{id:a,children:[]}),c,o).inputProps;return r.createElement(rr,{inputId:a,label:n},r.createElement(Ke,Object(d.a)({ref:o},Object(K.e)(l,{onChange:function(e){t.setSelectedValue(e.target.value,e.target.checked)}}))))},or=[],cr=function(e){var t=e.options,n=e.label,a=e.name,i=e.required,o=Object(fe.c)(a,{defaultValue:or}),c=function(e){var t=e.value,n=e.onChange;return{setSelectedValue:function(e,r){var a=r?t.concat(e):t.filter((function(t){return t!==e}));n(a)}}}(o.input),l=mt(o).errorMessageProps,s=Object(ee.f)({onBlurWithin:o.input.onBlur,onFocusWithin:o.input.onFocus}).focusWithinProps;return r.createElement(Et,null,r.createElement("fieldset",Object(d.a)({className:ar},s),r.createElement($n,{showRequiredMark:i},n),t.map((function(e,t){return r.createElement(ir,{key:t,inputId:a+"_"+t,label:e.label,value:e.value,checkboxGroupState:c})})),r.createElement(Ee,l)))},lr=function(e){var t=r.useRef(null),n=e.label,a=e.required,i=pt(t,Object(d.a)({},e,{autoComplete:"name"===e.name?e.name:"off"})),o=i.inputProps,c=i.labelProps,l=i.errorMessageProps;return r.createElement(Et,null,r.createElement(kt,Object(d.a)({showRequiredMark:a},c),n),r.createElement(Ne,Object(d.a)({},o,{errorMessageProps:l,inputRef:t})))},sr=function(e){var t=r.useRef(null),n=e.label,a=e.required,i=pt(t,Object(d.a)({},e,{type:"email",autoComplete:"email"})),o=i.inputProps,c=i.labelProps,l=i.errorMessageProps;return r.createElement(Et,null,n&&r.createElement(kt,Object(d.a)({showRequiredMark:a},c),n),r.createElement(Ne,Object(d.a)({},o,{inputRef:t,errorMessageProps:l})))},ur=n(352),dr=n(353),mr=Object(i.z)("border:none;margin:0;padding:0;max-height:100%;"),pr=function(e){var t=e.radioGroupState,n=e.label,a=e.inputId,i=Object(E.a)(e,["radioGroupState","label","inputId"]),o=Object(ur.a)(Object(d.a)({},i,{id:a,children:[]}),t,null).inputProps;return r.createElement(rr,{inputId:a,label:n},r.createElement(nt,o))},fr=function(e){var t=e.options,n=e.label,a=e.name,i=e.required,o=Object(fe.c)(a),c=Object(dr.a)(o.input),l=mt(o),s=l.validationState,u=l.errorMessageProps,m=Object(ur.b)({name:a,label:n,isRequired:i,validationState:s},c),p=m.radioGroupProps,f=m.labelProps;return r.createElement(Et,null,r.createElement("fieldset",Object(d.a)({className:mr},Object(K.e)(p,{onBlur:o.input.onBlur,onFocus:o.input.onFocus})),r.createElement($n,Object(d.a)({showRequiredMark:i},f),n),t.map((function(e,t){return r.createElement(pr,{key:t,inputId:a+"_"+t,label:e.label,value:e.value,radioGroupState:c})})),r.createElement(Ee,u)))},br=Object(i.D)("option",{target:"e1t56ivc0"})("color:",(function(e){return e.primary?e.theme.colors.success:"inherit"}),";"),hr=function(e){var t=e.meta,n=e.name,a=e.label,i=e.value,o=e.localize,c=void 0!==t&&void 0!==t.online,l=Boolean(t&&t.online),s=" ("+o(l?"skill_status_online":"skill_status_offline")+")";return r.createElement(br,{name:n,primary:c&&l,value:i},""+a+(c?s:""))},gr=function(e){var t=e.options,n=e.label,a=e.name,i=e.localize,o=e.required,c=Object(fe.c)(a);return r.createElement(Et,null,r.createElement(kt,{showRequiredMark:o,htmlFor:a},n),r.createElement(Fe,Object(d.a)({},c,{id:a,name:a}),r.createElement("option",{value:""},i("forms_choose")),t.map((function(e,t){return r.createElement(hr,{key:t,meta:e.meta,label:e.label,localize:i,name:a,value:e.value})}))))},vr=Object(i.D)("fieldset",{target:"eptcq7c0"})("border:none;margin:0;padding:0;max-height:100%;"),Er=function(e){var t=e.label,n=e.name,a=e.required,i=void 0!==a&&a,o=Object(fe.c)(n),c=Object(dr.a)(o.input),l=Object(ur.b)({name:n,label:t,isRequired:i},c),s=l.radioGroupProps,u=l.labelProps;return r.createElement(Et,null,r.createElement(vr,Object(K.e)(s,{onBlur:o.input.onBlur,onFocus:o.input.onFocus}),r.createElement($n,Object(d.a)({showRequiredMark:i},u),t),r.createElement(De,Object(d.a)({},o,{required:i}))))},jr=Object(i.D)("div",{target:"e12liu9t0"})("margin:0;a{color:inherit;}ul,ol{margin:8px 0;display:inline-block;white-space:normal;width:100%;padding-left:24px;}li{margin:4px 0;}",(function(e){return e.theme.typography.basic})),Or=Object(i.D)("h2",{target:"e12liu9t1"})("font-size:14px;font-weight:normal;margin:0;a{text-decoration:underline;}"),xr={information:function(e){var t=e.value;return r.createElement(Et,null,r.createElement(jr,{preserveLines:!0,textWrap:!0},r.createElement(Or,null,r.createElement(yt.a,{template:t,root:{component:wt.a}}))))},text:lr,textarea:Ct,email:sr,rating:Er,radio:fr,checkbox:cr,select:gr};var yr=function(e){var t=e.type;return xr[t]},wr=n(17),kr=function(e,t){switch(t){case"prechat":return e("prechat_submit_label");case"ticket":return e("offline_form_submit_label");default:return e("submit")}},Cr=Object(a.c)((function(e,t){var n=t.chatId,r=t.eventId,a=t.type,i=function(t){if("prechat"===a||"ticket"===a){var i=t.name,o=t.email,c=Object(m.f)({name:i,email:o});Object(m.E)(c)||e.updateUser(e.getSessionUserId(),c)}return e.requestUpdateEvent(n,r,{properties:{answers:t}})};return function(e){return{localize:e.localize,mobile:e.getApplicationState("mobile"),sendForm:i,sessionUser:e.getSessionUser()}}}))((function(e){var t=e.id,n=e.type,a=e.fields,c=e.mobile,l=e.localize,s=e.sendForm,u=e.sessionUser,p=Object(o.i)(t+":"+n),f=Object(o.d)((function(){var e=p.get(),t=function(e,t){var n=Object(m.N)((function(e){return"string"===typeof e?Object(m.ub)(e):e}),Object(m.ab)(["email","name"],e)),r=n.name,a=n.email;return r===t("client")?{email:a}:{email:a,name:r}}(u,l);return function(e,t,n){return e.map((function(e){var r=n?n[e.name]:null,a=t?t[e.name]:null,i=r||a;return i?Object(d.a)({},e,{defaultValue:i}):e})).filter((function(e){return"defaultValue"in e})).reduce((function(e,t){var n=t.name,r=t.defaultValue;return e[n]=r,e}),{})}(a,t,e)})),b=r.useRef({counter:0,lastValues:null,lastResult:null}),h=r.useCallback((function(e){b.current.counter++,b.current.lastValues=Object(d.a)({},e);var t=a.reduce((function(t,n){var r,a,i,o=n.required,c=n.name;return o&&(a=e[c],!(Object(m.D)(a)?!Object(m.E)(a):Boolean(a)))?Object(d.a)({},t,((r={})[c]=l("survey_fill_in_required_fields"),r)):"maxLength"in n&&"number"===typeof n.maxLength&&e[c]&&e[c].length>n.maxLength?Object(d.a)({},t,((i={})[c]="Cannot be longer than "+n.maxLength+" characters long.",i)):t}),{});return b.current.lastResult=Object(d.a)({},t),t}),[a,l]);return r.createElement(vt,{id:t,mobile:c,initialValues:f,validate:h,onSubmit:function(e){var t=b.current,n=t.counter,r=t.lastValues,a=t.lastResult,i=h(e);return 0!==Object.keys(i).length&&Object(wr.c)("invalid_form_submit_4",null,Object(m.N)((function(e){return JSON.stringify(e)}),{validationErrors:i,validationCounter:n,lastValidationValues:r,lastValidationResult:a,values:e})),s(e).then((function(){p.destroy()}),(function(e){var t;return e||((t={})[Qn.a]="Please check your internet connection and then try again.",t)}))},submitLabel:kr(l,n)},a.map((function(e,t){var n=yr(e);return r.createElement(i.q,{key:t},r.createElement(Gn,{name:e.name,when:e.dependOn},r.createElement(n,Object(d.a)({},e,{localize:l}))))})),r.createElement(fe.b,{onChange:function(e){var t=e.values;e.dirty&&p.set(t)},subscription:{values:!0,dirty:!0}}))})),Sr=function(e){var t=e.theme;return r.createElement(wn,{backgroundColor:t.colors.cta},r.createElement(F.r,{color:t.colors.ctaText}))},Rr=function(e){var t=e.theme;return r.createElement(wn,{backgroundColor:t.colors.cta},r.createElement(F.t,{color:t.colors.ctaText}))},zr=function(e){var t=e.answered,n=e.theme;return r.createElement(wn,{backgroundColor:t?n.colors.success:n.colors.cta},t?r.createElement(F.w,{color:n.colors.text.black}):r.createElement(F.m,{color:n.colors.ctaText}))},Dr=function(e){var t=e.localize;return r.createElement(Kn,null,t("offline_message_sent"))},Tr=Object(A.b)((function(e){var t=e.theme,n=e.chatId,i=e.id,c=e.setScrollTargetNode,l=e.form,s=Object(E.a)(e,["theme","chatId","id","setScrollTargetNode","form"]),m=l.properties,p=m.formId,f=m.formType,b=m.fields,h=m.answered,g=b.filter((function(e){return e.answer&&e.label})),v=u.J(l),j=r.useRef(null);if(Object(o.m)((function(){!h&&j.current&&c&&c(j.current)})),v)return null;var O=function(e){switch(e){case"prechat":return Sr;case"postchat":return Rr;case"ticket":return zr;default:return null}}(f),x=function(e){return"ticket"===e?Dr:Wn}(f);return r.createElement("div",Object(d.a)({ref:j},s),r.createElement(a.a,null,(function(e){return r.createElement(_n,{defaultCollapsed:!0,collapsible:h,icon:O&&r.createElement(O,{theme:t,answered:h})},h?r.createElement(x,{fields:g,localize:e}):r.createElement(Cr,{key:f,chatId:n,eventId:i,id:p,type:f,fields:b}))})))})),_r={enter:600,exit:400},Ir=function(e,t){return Object(i.z)("&-enter,&-appear{transform:translateY(100%);}&-enter-active,&-appear-active,&-enter-done,&-appear-done{transform:translateY(0);transition:transform ",600*e,"ms ",t.transitions.easings.swift,";}&-exit{transform:translateY(0);}&-exit-active{transform:translateY(100%);transition:transform ",400*e,"ms ",t.transitions.easings.swift,";}")},Br=Object(A.b)((function(e){var t=e.show,n=e.durationFactor,a=e.onTransitionStart,i=e.onTransitionEnd,o=e.children,c=e.nodeRef,l=e.theme;return r.createElement(p.a,{appear:!0,component:null},t&&r.createElement(j.a,{timeout:_r,onExited:i,onEntered:i,onExiting:a,onEntering:a,classNames:Ir(n,l),nodeRef:c},o))})),Mr=n(365),Fr=function(e){var t=e.heightPercentage,n=e.theme;return Object(i.z)("position:absolute;z-index:1500;display:flex;flex-direction:column;height:",100*t,"%;min-height:270px;max-height:100%;width:100%;bottom:0;border-radius:inherit;color:",n.colors.text.black,";background-color:",n.colors.surface.light,";")},Pr=Object(A.b)((function(e){var t=e.heightPercentage,n=e.theme,a=e.children,i=e.innerRef,c=Object(E.a)(e,["heightPercentage","theme","children","innerRef"]),l=r.useRef(null),s=Object(o.c)(l,i);return Object(o.g)("touchmove",l),Object(o.b)(l),r.createElement(Mr.a,{autoFocus:!1,returnFocus:!0,crossFrame:!1,className:Fr({heightPercentage:t,theme:n}),ref:s,lockProps:Object(d.a)({role:"dialog","aria-modal":!0},c)},a)})),Nr=n(24),Hr=n(227),Ar={allowtransparency:"true",scrolling:"yes",style:{position:"absolute",minWidth:"100%",minHeight:"100%",height:"1px",width:"1px",margin:"0",padding:"0",background:"none",border:"0"}},Lr=function(e){if(e){var t=e.scrollTop,n=e.scrollHeight-e.offsetHeight;0===t?e.scrollTop=1:t===n&&(e.scrollTop=n-1)}},qr=function(e){return{moment_url:Object(L.d)(e)+Object(L.e)(e),moment_origin:Object(L.d)(e)||""}},Vr=function(e){var t=e.hidden;return Object(i.z)("flex-grow:1;position:relative;overflow:auto;-webkit-overflow-scrolling:touch;display:",t?"none":"block",";")},Ur=function(e,t,n){var r=document.createElement("iframe");return n&&(r.allow="microphone *; camera *; display-capture *; picture-in-picture *;"),r.src=t,e.appendChild(r),r},Wr=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(t=e.call.apply(e,[this].concat(a))||this).sdk=void 0,t.containerRef=r.createRef(),t.handleIFrameLoad=function(){t.sdk&&(t.props.onLoadingChanged(!1),t.sdk.frame.removeEventListener("load",t.handleIFrameLoad))},t.handleScroll=function(e){Lr(e.currentTarget)},t}Object(Y.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this.props,t=e.url,n=e.close,r=e.sendMessage,a=e.sendSystemMessage,i=e.setAttributes,o=e.onLoadingChanged,c=e.onMomentDataChanged,l=e.allowVideoConferencing;if(t&&this.containerRef.current){var s={close:n,sendMessage:r,setAttributes:i,setExternalLink:function(e){c({externalLink:e})}};a&&(s.sendSystemMessage=a),this.sdk=Object(Hr.b)({frame:Ur(this.containerRef.current,t,l),url:t,onConnected:function(e){var t=e.data;o(!1),c(t)}},s),Object(Nr.a)(Ar,this.sdk.frame),o(!0),this.sdk.frame.addEventListener("load",this.handleIFrameLoad),c({title:this.sdk.title}),Object(wr.d)("moment_opened",qr(Object(Hr.a)(t)))}},n.componentWillUnmount=function(){var e=this.props,t=e.onMomentDataChanged,n=e.onLoadingChanged;this.sdk&&(this.sdk.destroy(),t(null),n(!1));var r=this.props.url;r&&Object(wr.d)("moment_closed",qr(Object(Hr.a)(r)))},n.render=function(){return r.createElement("div",{ref:this.containerRef,className:Vr(this.props),onScroll:this.handleScroll})},t}(r.Component),Yr=Object(i.D)("h2",{target:"ekjkgns0"})("flex-grow:1;flex-basis:100%;font-weight:700;font-size:14px;margin:0 8px;"),Gr=Object(i.D)(i.q,{target:"e11d7cwf0"})("border-bottom:1px solid ",(function(e){return e.theme.colors.divider}),";padding:0 0.8em;height:48px;display:flex;align-items:center;"),Zr=Object(i.z)("width:100%;height:100%;"),Kr=Object(i.D)("div",{target:"e96px410"})("flex-shrink:0;width:24px;height:24px;border-radius:",(function(e){return e.theme.borderRadius.md}),";overflow:hidden;"),Qr=function(){return r.createElement(Te.o,null,r.createElement(Te.v,null))},Jr=function(e){var t=e.src;return t?r.createElement(Kr,null,r.createElement(i.h,{src:t,className:Zr},(function(e){switch(e.imageStatus){case"pending":return r.createElement(Te.o,null);case"failed":return r.createElement(Qr,null);default:return null}}))):r.createElement(Kr,null,r.createElement(Qr,null))},Xr=Object(i.D)(Gr,{target:"e1xkjcv70"})("border-bottom:0;"),$r=Object(i.D)("div",{displayName:"BoosterContainer",target:"e1xkjcv71"})("width:100%;display:flex;color:",(function(e){return e.theme.colors.text.black}),";max-width:",(function(e){return e.single?"270px":"240px"}),";"),ea=Object(i.D)("div",{target:"e1xkjcv72"})("padding:0 0.8em 0.8em 0.8em;"),ta=Object(i.D)(jn.a,{target:"e1xkjcv73"})("flex-grow:1;max-width:100%;flex-basis:100%;"),na=Object(i.D)("div",{target:"e1xkjcv74"})(en(),";margin-bottom:1.2em;",(function(e){return e.theme.typography.basic})),ra=Object(i.D)(rt.a,{displayName:"BoosterButton",target:"e1xkjcv75"})((function(e){var t=e.theme;return function(e){var t=e.color,n=e.backgroundColor,r=e.hoverBackgroundColor;return Object(i.z)("color:",t,";background-color:",n,";&:hover{color:",t,";background-color:",r,";}")}({color:Object(Sn.e)(.6,t.colors.cta),backgroundColor:Object(Sn.f)(.95,t.colors.cta),hoverBackgroundColor:Object(Sn.f)(.85,t.colors.cta)})})),aa=function(e){var t=e.id,n=e.icon,a=e.title,i=e.description,o=e.onButtonClick,c=e.action,l=e.single,s=void 0!==l&&l;return r.createElement($r,{single:s},r.createElement(ta,{role:"gridcell"},r.createElement(Xr,null,r.createElement(Jr,{src:n}),r.createElement(Yr,{ellipsis:!0,flexFill:!0},a)),r.createElement(ea,null,r.createElement(na,null,r.createElement(Ot.a,{componenet:xt.a},r.createElement(yt.a,{preserveLists:!0,template:i,root:{component:wt.a}}))),r.createElement(ra,{ellipsis:!0,onClick:function(){return o(t)}},c.label))))},ia=Object(i.D)("div",{target:"e1ndqyd80"})("padding-top:0.8em;width:100%;display:flex;justify-content:center;flex-grow:1;"),oa=Object(a.c)((function(e){var t=function(t){return e.emit("on_chat_booster_launched",t)};return function(){return{emitBoosterLaunched:t}}}))((function(e){var t=e.boosters,n=e.setScrollTargetNode,a=e.showMoment,c=e.emitBoosterLaunched,l=r.useRef(null);Object(o.m)((function(){l.current&&n&&n(l.current)}));var s=function(e){var n=t.find((function(t){return t.id===e}));if(n){var r=n.icon,i=n.title,o=n.action,l=o.url,s=o.webviewHeight,u=void 0===s?"full":s;c({id:e,title:i}),a({icon:r,title:i,height:u,url:l+"?moment-title="+encodeURIComponent(i)})}};return r.createElement(ia,{innerRef:l,role:"row"},1===t.length?r.createElement(aa,Object(d.a)({},t[0],{single:!0,onButtonClick:s})):r.createElement(i.e,null,t.map((function(e){return r.createElement(aa,Object(d.a)({},e,{key:e.id,onButtonClick:s}))}))))})),ca=Object(i.D)("div",{target:"e1yucjc70"})("width:100%;display:flex;margin-bottom:16px;flex-direction:row;align-items:center;justify-content:center;"),la=Object(i.D)("div",{target:"e1yucjc71"})("padding:4px 12px;",(function(e){var t=e.theme;return Object(i.z)(t.typography.basic,";background-color:",Object(Sn.f)(.7,t.colors.caution),";border-radius:",t.borderRadius.sm,";")})),sa=function(){return r.createElement(a.a,null,(function(e){return r.createElement(ca,null,r.createElement(la,null,e("fill_form_to_send")))}))},ua=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={shouldHandleSeen:!t.props.event.own&&!t.props.event.seen},t.handleSeen=function(){t.setState({shouldHandleSeen:!1}),t.props.listItemHandlers.markAsSeen(t.props.id)},t.getCardDisabledButtons=function(){var e=t.props,n=e.isChatActive,r=e.isPartOfLastThread,a=n&&r;return e.event.properties.invitation?n?["cancel"]:[]:a?[]:["message","webview"]},t.handleMessageRef=function(e){var n=t.props,r=n.scrollTarget,a=n.setScrollTargetNode;e&&"draft"===r&&a(e)},t}return Object(Y.a)(t,e),t.getDerivedStateFromProps=function(e,t){return t.shouldHandleSeen&&e.event.seen?{shouldHandleSeen:!1}:null},t.prototype.render=function(){var e,t=this.props,n=t.mobile,a=t.author,o=t.event,c=t.chatId,l=t.localize,s=t.radiusType,u=t.showMoment,m=t.scrollTarget,f=t.deliveryStatus,b=t.listItemHandlers,h=t.showMetaOnClick,g=t.setScrollTargetNode,E=t.handleGreetingDisplayed,j=t.showFillFormAnnouncement,O=t.rtl,x="system"===a.type,y=this.state.shouldHandleSeen;if("system_message"===o.type){var w=o.properties,k=w.systemMessageType,C=w.textVariables,S=w.defaultText;return r.createElement(En,null,k?l(k,C):S)}return"email_prompt"===o.type?r.createElement(Ln,{id:o.id,chatId:c}):"form"===o.type?r.createElement(r.Fragment,null,j&&r.createElement(sa,null),r.createElement(p.a,{appear:j,component:null},r.createElement(v.b,{delay:100},r.createElement(Tr,{id:o.id,chatId:c,form:o,setScrollTargetNode:"form"===m&&g})))):"boosters"===o.type?r.createElement(oa,{boosters:o.properties.boosters,showMoment:u,setScrollTargetNode:"boosters"===m&&g}):r.createElement(i.i,{date:x?"":(e=o.timestamp,new Date(e).toTimeString().substr(0,5)),deliveryStatus:f,failed:o.failed,isOwn:o.own,onSeen:this.handleSeen,seen:!y,sending:!o.delivered&&!o.failed,showMetaOnClick:!x&&h,system:x,innerRef:this.handleMessageRef,authorName:r.createElement(wt.a,null,o.own&&!a.name?l("client"):a.name)},r.createElement(gn.a,Object(d.a)({event:o,mobile:n,radiusType:s,disabledButtons:this.getCardDisabledButtons(),onActionButtonClick:b.handleActionButtonClick,rtl:O},o.properties.invitation&&{onShow:function(){return E(o)}})))},t}(r.Component),da=Object(a.c)((function(e,t){var n=t.chatId,r=t.id,a=t.showMoment,i=function(t){u.jb(e,t)||g.m(e)};return function(e,t){var n;return function(r){var a=e(r);if(void 0===a)return n;var i=t(r,a);return n=i,i}}((function(e){return e.getEvent(n,r)}),(function(e,t){var o=e.getChat(n),c=o.properties.lastThread===t.thread,l="form"===t.type&&!t.properties.answered&&u.N(e,n);return{event:t,chatId:n,showMoment:a,handleGreetingDisplayed:i,showFillFormAnnouncement:l,localize:e.localize,isChatActive:o.active,author:e.getUser(t.author),mobile:e.getApplicationState("mobile"),isPartOfLastThread:c,deliveryStatus:u.e(e,n,r),rtl:e.getApplicationState("rtl")}}))}))(ua),ma=n(106),pa=Object(i.D)("label",{target:"e1e9gyrb0"})("color:",(function(e){return e.theme.colors.text.black}),";cursor:",(function(e){return e.disabled?"not-allowed":"pointer"}),";display:flex;align-items:center;"),fa=Object(i.D)("span",{target:"e1e9gyrb1"})("display:flex;align-items:center;justify-content:center;&:focus{outline-style:",(function(e){return e.focusVisible?"auto":"none"}),";}"),ba=Object(i.D)("input",{target:"e1e9gyrb2"})("display:none;"),ha=Object(A.b)((function(e){var t=e.handleFileChange,n=e.disabled,a=e.theme,i=r.useRef(null),c=Object(o.j)((function(){return i.current.click()})),l=Object(ee.e)();return r.createElement(pa,{flexFit:!0,htmlFor:"fileupload",disabled:n},r.createElement(fa,Object(d.a)({role:"button","aria-label":"Send a file",tabIndex:"0"},c,l),r.createElement(F.b,{color:a.colors.grayscale[n?300:500],"aria-hidden":!0})),r.createElement(ba,{multiple:!0,onChange:t,type:"file",value:"",id:"fileupload",innerRef:i,disabled:n}))})),ga=n(354),va=Object(i.D)("span",{target:"e1v5q6v40"})("margin:",(function(e){return e.theme.spaces.space1}),";padding-left:",(function(e){return e.theme.spaces.space1}),";width:1.5em;height:1.5em;text-align:center;vertical-align:middle;font-size:1.5em;line-height:1.5em;"),Ea=Object(i.D)("div",{target:"e1v5q6v41"})("margin:",(function(e){return e.theme.spaces.space2}),";outline:none;cursor:pointer;",(function(e){var t=e.highlighted,n=e.theme;if(!t)return Object(i.z)(F.k,"{background-color:",n.colors.surface.light,";}")})),ja=function(e){var t=e.onPress,n=e.emoji,a=e.itemList,i=r.useRef(null),o=a.useItem,c=a.clearHighlightedItem,l=o({ref:i,text:n,value:n}),s=l.id,u=l.highlight,d=(0,l.useHighlighted)();return r.createElement(Ea,{id:s,innerRef:i,highlighted:d,onClick:t,onMouseOver:u,onMouseOut:c,"aria-label":"insert "+n},r.createElement(F.k,null,r.createElement(va,{"aria-hidden":!0},n)))},Oa=n(48),xa=Object(m.d)(["\ud83d\ude42","\ud83d\ude01","\ud83d\ude02","\ud83d\ude0a","\ud83d\ude0d","\ud83d\ude10","\ud83d\ude15","\ud83d\ude12","\ud83d\ude22","\ud83d\ude2d","\ud83c\udf89","\u2764\ufe0f","\ud83d\udc4c","\ud83d\udc4d","\ud83d\ude4f"],5),ya=Object(i.D)("div",{target:"e1pkkif40"})("margin:0;padding:0;outline:none;"),wa=Object(i.D)(F.j,{target:"e1pkkif41"})("display:flex;justify-content:center;align-items:center;opacity:1;transition:background-color 150ms ease-in-out;background-color:",(function(e){return e.backgroundColor}),";"),ka=Object(i.D)("div",{target:"e1pkkif42"})("display:flex;flex-direction:row;align-items:center;justify-content:flex-start;"),Ca=Object(i.D)("div",{target:"e1pkkif43"})("display:flex;align-items:center;justify-content:center;flex-shrink:0;flex-grow:0;"),Sa=Object(A.b)((function(e){var t=e.theme,n=e.onEmojiPicked,a=r.useRef(null),i=r.useRef(null),o=r.useRef({open:m.T,close:m.T}),c=r.useState(!1),l=c[0],s=c[1],u=function(e){n(e),o.current.close(),Math.random()<.001&&Object(wr.d)("Emoji_inserted_from_picker",{emoji:e})},d=Object(ga.a)({onSelect:u}),p=d.useHighlightedItemId();return 0===xa.length||Object(Oa.b)()?null:r.createElement(Nt,{animated:!0,placement:"top",appearance:"light",trigger:"press",controlsRef:o,onOpenChange:function(e,t){var n;if(Object(ee.b)()?d.setHighlightedItem(0):d.clearHighlightedItem(),e)null==(n=i.current)||n.focus();else if(!t){var r;null==(r=a.current)||r.focus()}s(e)},description:r.createElement(ya,{tabIndex:0,role:"grid","aria-label":"emoji picker",innerRef:i,"aria-activedescendant":p,onKeyDown:function(e){switch(e.key){case"ArrowUp":d.highlightedIndex.current-5>=0&&d.moveHighlightedItem(-5);break;case"ArrowDown":d.highlightedIndex.current+5<d.items.current.length&&d.moveHighlightedItem(5);break;case"ArrowLeft":d.highlightedIndex.current-1>=0&&d.moveHighlightedItem(-1);break;case"ArrowRight":d.highlightedIndex.current+1<d.items.current.length&&d.moveHighlightedItem(1);break;case"Home":d.setHighlightedItem(0);break;case"End":d.setHighlightedItem(d.items.current.length-1);break;case" ":case"Enter":e.preventDefault(),d.selectHighlightedItem();break;case"Tab":return void e.preventDefault();default:return void d.highlightItemByString(e)}e.preventDefault()}},xa.map((function(e,t){return r.createElement(ka,{key:t,role:"row"},e.map((function(e,t){return r.createElement(Ca,{key:t,role:"gridcell"},r.createElement(ja,{emoji:e,itemList:d,onPress:function(){return u(e)}}))})))})))},r.createElement(wa,{"aria-label":"open emoji picker",innerRef:a,backgroundColor:l?t.colors.cta:"transparent",onPress:function(){l&&o.current.close()}},r.createElement(F.g,{color:l?t.colors.text.white:t.colors.grayscale[500]})))})),Ra=function(e,t){return Object(i.z)("font-family:inherit;padding:1.25em 7.75em 1.25em 1em;overflow-y:auto;margin-top:0;transition:box-shadow 0.1s ease-in-out;background-color:",e?Object(Sn.f)(.95,t.colors.caution):Object(Sn.e)(.012,t.colors.surface.light),";:focus{background-color:",t.colors.surface.light,";}")},za=Object(i.z)("padding:0;svg *{transition:fill 100ms ease-in-out;}"),Da=Object(i.D)("div",{target:"ex4ls1q0"})("position:absolute;top:0;height:100%;right:1em;display:flex;align-items:center;color:",(function(e){return e.theme.colors.text.black}),";"),Ta=Object(i.D)(i.q,{target:"ex4ls1q1"})("position:relative;");var _a=Object(a.c)((function(e,t){var n=t.chatId,r=function(t){g.e(e,t)},a=function(t){g.B(e,n,t)},i=function(t){e.requestUpdateChat(n,{properties:{messageDraft:t}})};return function(e){return{sendFile:r,sendMessage:a,setMessageDraft:i,reconnecting:u.hb(e),allowInput:u.Z(e),allowFileUpload:u.Y(e),isFileUploadPossible:u.H(e),mobile:e.getApplicationState("mobile"),applicationFocused:e.getApplicationState("applicationFocused")}}}))(Object(A.b)((function(e){var t=e.allowFileUpload,n=e.isFileUploadPossible,c=e.mobile,l=e.onHeightChange,s=e.onSendMessage,u=e.allowInput,p=e.reconnecting,f=e.sendFile,b=e.sendMessage,h=e.setMessageDraft,g=(e.applicationFocused,e.onFocusChange),v=e.theme,j=Object(E.a)(e,["allowFileUpload","isFileUploadPossible","mobile","onHeightChange","onSendMessage","allowInput","reconnecting","sendFile","sendMessage","setMessageDraft","applicationFocused","onFocusChange","theme"]),O=r.useRef(null),x=r.useRef([0,0]),y=Object(o.i)("text-composer"),w=y.get(),k=r.useState(w||""),C=k[0],S=k[1],R=r.useMemo((function(){return Object(m.tb)(1500,h)}),[h]),z=Object(o.e)(p),D=r.useCallback((function(){g&&g(!0)}),[g]),T=r.useCallback((function(){g&&g(!1)}),[g]),_=r.useCallback((function(e){b(e),h(""),s&&s()}),[b,s,h]),I=r.useCallback((function(e){[].forEach.call(e.target.files,f)}),[f]);r.useEffect((function(){var e=function(){x.current=[O.current.selectionStart,O.current.selectionEnd]};return O.current.addEventListener("blur",e),function(){return O.current.removeEventListener("blur",e)}}),[]);var B=function(e){var t=x.current,n=t[0],r=t[1];J.a.flushSync((function(){S((function(t){var a=t.slice(0,n)+e+t.slice(r,t.length);return y.set(a),a}))})),J.a.flushSync((function(){O.current.focus();var t=n+e.length;O.current.setSelectionRange(t,t)}))};return r.createElement(a.a,null,(function(e){return r.createElement(i.t,Object(d.a)({},j,{value:C,active:u,disabled:p&&!z,mobile:c,defaultValue:w,onSend:_,inputRef:function(e){O.current=e},onValueChange:function(e){S(e),y.set(e),R(e)}}),r.createElement(Ta,{verticalAlign:"center"},r.createElement(i.u,{autoFocus:Object(bt.c)(),className:Ra(p&&!z,v),disabled:p&&!z,flexFill:!0,minRows:1,onBlur:T,onFocus:D,onHeightChange:l,placeholder:e("embedded_textarea_placeholder"),"aria-label":e("embedded_textarea_placeholder"),enterKeyHint:"send"}),r.createElement(Da,null,r.createElement(Sa,{onEmojiPicked:B}),t&&r.createElement(ha,{disabled:!n,handleFileChange:I}),r.createElement(i.r,{flexFit:!0,className:za,icon:r.createElement(F.s,null),"aria-label":"Send a message"}))))}))}))),Ia=n(185),Ba={full:.8,tall:.5,compact:.3},Ma=Object(i.z)("display:flex;"),Fa=Object(a.c)((function(e,t){var n,r=t.chatId,a=function(){return g.f(e)},i=function(t){return g.O(e,{properties:t})},o=function(t){return g.B(e,r,t)},c=!!e.getApplicationState("config").hasAnyCustomLicenseProperty;return"lc3"===e.getApplicationState().protocol&&(n=function(t){return g.A(e,r,t)}),function(e){var t=e.getView("Moment"),r=t.show,l=t.data;return{show:r,closeMoment:a,sendMessage:o,sendSystemMessage:n,updateSessionUser:i,momentData:l,allowVideoConferencing:c}}}))((function(e){var t=e.allowVideoConferencing,n=e.show,a=e.updateSessionUser,i=e.sendMessage,c=e.sendSystemMessage,l=e.onSendMessage,s=r.useRef(null),u=r.useRef(null),p=r.useState(!1),f=p[0],b=p[1],h=r.useState(!1),g=h[0],v=h[1],E=r.useState(!1),j=E[0],O=E[1],x=r.useState({}),y=x[0],w=x[1],k=Object(ee.e)(),C=Object(o.f)(f&&n,e.closeMoment),S=C[0],R=C[1],z=g||j,D=function(e){var t=e.height;return t&&t in Ba?Ba[t]:Ba.tall}(y);return Object(m.E)(y)&&!Object(m.E)(e.momentData)&&w(Object(d.a)({},y,e.momentData)),Object(o.u)(r.useCallback((function(){return b(!0)}),[]),300),r.useEffect((function(){S&&Object(K.c)(u.current)}),[S]),r.createElement($,null,r.createElement(ie,{shown:n}),r.createElement(Br,{show:S,nodeRef:s,onTransitionEnd:function(){return v(!1)},onTransitionStart:function(){return v(!0)},durationFactor:D/.8},r.createElement(Pr,{innerRef:s,heightPercentage:D},r.createElement(Gr,{noShrink:!0},r.createElement(Jr,{src:y.icon,"aria-hidden":!0}),r.createElement(Yr,Object(d.a)({ellipsis:!0,flexFill:!0,tabIndex:-1,innerRef:u},k),y.title),y.externalLink&&r.createElement(xt.a,{href:y.externalLink,rel:"nofollow noopener noreferrer",className:Ma,"aria-label":"Open in a new tab"},r.createElement(F.q,{"aria-hidden":!0})),r.createElement(F.j,{onPress:R,className:Ma,"aria-label":"Close modal"},r.createElement(F.e,null))),r.createElement(Wr,{hidden:z,close:R,url:y.url,sendMessage:function(e){var t=e.text;i(t),l&&l(t)},sendSystemMessage:c,setAttributes:a,onMomentDataChanged:function(e){return w((function(t){return e?Object(d.a)({},t,e):{}}))},onLoadingChanged:O,allowVideoConferencing:t}),z&&r.createElement(Ia.a,{size:"xlarge",style:{margin:"auto"}}))))})),Pa=n(191),Na=n(66),Ha=n(74),Aa=Object(i.D)("span",{target:"e1oq7ugp0"})((function(e){var t=e.failed,n=e.theme;return{color:t?n.typography.errorCaption.color:n.typography.basic.color}}),";"),La=Object(i.D)("div",{target:"e1oq7ugp1"})("flex:1;display:flex;flex-direction:column;margin:2px;min-width:calc(50% - 4px);max-width:100%;height:140px;"),qa=Object(i.D)("div",{target:"e1oq7ugp2"})("border-radius:",(function(e){return e.theme.borderRadius.xl}),";flex:1;width:100%;height:100%;display:flex;overflow:hidden;position:relative;align-items:center;justify-content:center;"),Va=Object(i.D)("div",{target:"e1oq7ugp3"})("color:",(function(e){return e.theme.colors.text.muted}),";background-color:",(function(e){return e.theme.colors.surface.lightVariant}),";width:100%;height:100%;display:flex;align-items:center;justify-content:center;"),Ua=Object(i.D)("img",{target:"e1oq7ugp4"})("width:100%;height:auto;"),Wa=Object(i.D)("div",{target:"e1oq7ugp5"})("position:absolute;top:6px;right:6px;z-index:1;"),Ya=Object(i.D)("div",{target:"e1oq7ugp6"})("height:24px;width:24px;display:flex;border-radius:50%;align-items:center;justify-content:center;color:",(function(e){return e.theme.colors.text.white}),";background-color:",(function(e){var t=e.theme,n=e.success,r=e.error;return n?t.colors.success:r?t.colors.error:void 0}),";"),Ga=Object(i.D)("div",{target:"e1oq7ugp7"})("opacity:",(function(e){return e.visible?1:0}),";transition:opacity 100ms ",(function(e){return e.theme.transitions.easings.smooth}),";position:absolute;left:6px;right:6px;bottom:6px;display:flex;flex-direction:row-reverse;align-items:center;justify-content:space-between;z-index:1;",Te.m,"{width:20px;height:20px;}"),Za=Object(i.D)("div",{target:"e1oq7ugp8"})("border-radius:",(function(e){return e.theme.borderRadius.md}),";color:",(function(e){return e.theme.colors.text.white}),";padding:2px;display:flex;flex-direction:row;align-items:center;justify-content:center;background-color:rgba(0,0,0,0.6);"),Ka=Object(i.D)("span",{target:"e1oq7ugp9"})((function(e){return e.theme.typography.caption}),";color:",(function(e){return e.theme.colors.text.white}),";cursor:pointer;margin-right:4px;"),Qa=Object(i.z)("cursor:pointer;"),Ja=function(e){var t=e.failReason,n=r.useRef(null),a=Object(l.e)({},n).focusableProps;return r.createElement(Ya,Object(d.a)({"aria-label":t,error:!0,innerRef:n},a,{tabIndex:0}),r.createElement(Te.c,{className:Qa,size:24,"aria-hidden":!0}))},Xa=function(e){var t=e.name,n=e.failed,o=e.finished,c=e.url,l=e.fileType,s=e.mobile,u=e.alternativeText,d=e.onCancel,m=e.onAlternativeTextEdit,p=e.progress,f=void 0===p?0:p,b=e.failReason,h=void 0===b?"":b,g=e.insistHover,v=e.onHoverChange,E=Object(ee.g)({onHoverChange:v}),j=E.hoverProps,O=E.isHovered,x=Object(ee.e)().isFocusVisible;return r.createElement(a.a,null,(function(e){return r.createElement(La,null,r.createElement(qa,j,r.createElement(Wa,null,o&&r.createElement(Ya,{success:!0},r.createElement(Te.B,{size:24,"aria-hidden":!0})),n&&r.createElement(Nt,{description:h,allowTouch:!0},r.createElement(Ja,{failReason:h})),!o&&!n&&r.createElement(Ia.a,{size:"medium",progress:f,"aria-hidden":!0})),(d||m)&&r.createElement(Ga,{visible:g||O||x||s},d&&r.createElement(Za,null,r.createElement(Te.m,{onPress:d,"aria-label":"remove the "+t+" file"},r.createElement(Te.w,{size:20,"aria-hidden":!0}))),"image"===l&&m&&r.createElement(Za,null,r.createElement(Te.m,{onPress:m,"aria-label":"add alternative text to the "+t+" image"},r.createElement(Te.h,{size:20,"aria-hidden":!0})),r.createElement(Ka,{onClick:m},e("alt_text")))),"image"===l&&r.createElement(Ua,{src:c,alt:u||"",style:{opacity:o?1:.25},className:Object(i.z)("transition:opacity 100ms linear;")}),"other"===l&&r.createElement(Va,null,r.createElement(Te.k,{size:56}))),r.createElement(Aa,{ellipsis:!0,failed:n,finished:o},t))}))},$a=Object(i.D)("p",{target:"eprg9im0"})("margin-bottom:",(function(e){var t=e.theme,n=e.mobile;return"modern"!==t.name&&n?0:4}),"px;",(function(e){return e.theme.typography.caption})," ",en(),";margin:0;padding:0 12px;max-width:100%;max-height:50px;"),ei=Object(i.D)("div",{target:"eprg9im1"})((function(e){var t=e.theme;return!e.mobile&&"modern"===t.name&&"max-height: 230px; overflow-y: auto;"})),ti=Object(i.D)("div",{target:"eprg9im2"})("height:",(function(e){var t=e.theme;return e.mobile||"modern"!==t.name?145:140}),"px;overflow:hidden;display:flex;align-items:center;justify-content:center;width:100%;"),ni=Object(i.D)("div",{target:"eprg9im3"})("padding:",(function(e){var t=e.theme;return t.spaces.space3+" "+t.spaces.space5}),";display:flex;flex-direction:row;justify-content:center;align-items:center;max-width:100%;"),ri=Object(i.D)("input",{target:"eprg9im4"})("background-color:",(function(e){return e.theme.colors.surface.lightVariant}),";border:1px solid ",(function(e){var t=e.theme;return e.highlighted?t.colors.cta:"transparent"}),";flex:1;height:34px;margin:0;padding:8px 6px;min-width:0;border:none;outline:none;border-radius:6px;border-top-right-radius:0;border-bottom-right-radius:0;border-right:none;"),ai=Object(i.D)(F.j,{target:"eprg9im5"})("color:",(function(e){var t=e.theme;return e.highlighted?t.colors.ctaText:t.colors.text.white}),";background-color:",(function(e){var t=e.theme;return e.highlighted?t.colors.cta:t.colors.grayscale[200]}),";height:34px;width:34px;justify-content:center;align-items:center;display:flex;padding:6px 8px;border-top-left-radius:0;border-bottom-left-radius:0;border-top-right-radius:6px;transition:background 100ms linear;"),ii=Object(i.z)("width:100%;height:auto;"),oi=function(e){var t=e.url,n=e.alternativeText,i=e.onAlternativeTextChanged,o=e.mobile,c=r.useState(n||""),l=c[0],s=c[1],u=Object(ee.e)().isFocusVisible;return r.createElement(a.a,null,(function(e){return r.createElement(ei,{mobile:o},r.createElement(ti,{mobile:o},r.createElement("img",{src:t,className:ii,alt:n})),r.createElement(ni,null,r.createElement(ri,{autoFocus:!0,maxLength:16384,value:l,"aria-label":e("describe_image"),placeholder:e("describe_image"),highlighted:!!l||u,onChange:function(e){var t=e.target;return s(t.value)}}),r.createElement(ai,{"aria-label":"save the image's alternative text",highlighted:l!==n||u,disabled:l===n,onPress:function(){i(l)}},r.createElement(F.a,{size:24}))),r.createElement($a,{mobile:o},e("alternative_text_description")))}))},ci=n(58),li=Object(i.D)("h2",{target:"e1k6tlos0"})((function(e){var t=e.failed,n=e.theme;return t&&{color:n.typography.errorCaption.color}})," padding:0 6px;font-size:14px;font-weight:normal;align-self:center;margin:0;"),si=Object(i.D)("div",{target:"e1k6tlos1"})("display:flex;cursor:pointer;"),ui=Object(i.D)("div",{target:"e1k6tlos2"})("transition:max-height ",(function(e){return e.longAnimation?600:400}),"ms ",(function(e){return e.theme.transitions.easings.swift}),";overflow:hidden;max-height:249px;"),di=Object(i.D)("div",{target:"e1k6tlos3"})("height:auto;",(function(e){return e.edit&&{margin:"0 -8px"}})),mi=Object(i.D)("div",{target:"e1k6tlos4"})("max-height:",(function(e){var t=e.theme;return e.mobile||"modern"!==t.name?200:170}),"px;overflow:auto;display:flex;flex-direction:row;flex-wrap:wrap;padding:4px 0;"),pi=Object(i.D)("hr",{target:"e1k6tlos5"})("margin:",8,"px -",8,"px 0;border:0;border-bottom:1px solid rgba(0,0,0,0.1);"),fi=Object(i.D)(Te.e,{target:"e1k6tlos6"})((function(e){return"up"===e.direction&&{transform:"scaleY(-1)"}})),bi=Object(i.z)("padding-left:4px;"),hi=Object(i.D)(F.p,{target:"e1k6tlos7"})("padding:",(function(e){var t=e.theme,n=e.isEdit,r=e.expanded;return!e.mobile&&"modern"===t.name&&n&&r?"8px 8px 0":"8px"}),";",(function(e){return e.theme.typography.basic}),";overflow:hidden;"),gi=Object(i.z)("margin-top:6px;max-width:100%;"),vi=Object(i.z)("transform:scaleX(-1);"),Ei=Object(Ha.createSelector)([m.B],(function(e){return e.map((function(e){return Object(d.a)({id:e.id},e.properties)}))})),ji=Object(a.c)((function(e,t){var n=t.chatId,r=function(t){e.emit("cancel_upload",{eventId:t})},a=function(t,r){e.updateEvent(n,t,{properties:{alternativeText:r}})},i=function(){e.emit("send_file_events")};return function(e){var t=e.getApplicationState(),n=t.isSendingFileEvents,o=t.mobile,c=t.protocol,l=t.config,s=t.license,d=t.group,m=t.requestedGroup,p=Ei(Object(u.m)(e));return{mobile:o,protocol:c,persistKey:Object(ci.a)({license:s,group:d,requestedGroup:m}),isSendingFileEvents:n,uploadEntries:p,cancelUpload:r,setAlternativeText:a,sendFiles:i,localize:e.localize,themeName:l.theme.name}}}))((function(e){var t=e.uploadEntries,n=e.uploadEnabled,a=e.cancelUpload,i=e.localize,o=e.mobile,c=e.protocol,l=e.persistKey,s=e.sendFiles,u=e.isSendingFileEvents,p=e.setAlternativeText,f=e.themeName,h=Object(K.h)(),g=r.useState(!0),v=g[0],E=g[1],j=r.useState(!1),O=j[0],x=j[1],y=r.useState(!1),w=y[0],k=y[1],C=r.useState(null),S=C[0],R=C[1],z=r.useState(""),D=z[0],T=z[1],_=r.useRef(null),I=r.useRef(null),B=function(e,t){var n=e.filter((function(e){return e.failed})),r=e.filter((function(e){return e.finished})).length,a=n.length,i=e.length,o=t("file_upload_status").replace("%finishedCount%",String(r)).replace("%totalCount%",String(i));switch(!0){case a>0:return{uploadStatus:"error",title:a>1?t("files_failed_to_upload").replace("%files%",String(a)):n[0].failReason};case r===i:return{uploadStatus:"success",title:o};default:return{uploadStatus:"pending",title:o}}}(t,i),M=function(){D&&T("")},F=r.useCallback((function(){return o||"modern"!==f?249:228}),[f,o]),P=r.useCallback((function(e){return(t.length>2||e?F():201)+"px"}),[t,F]),N=r.useCallback((function(e){A(e)&&(_.current.style.maxHeight=e)}),[]),H=function(e){return I.current.style.height=e},A=function(e){return _.current.style.maxHeight!==e},L=r.useCallback((function(){v?(x(!0),N("0px")):E(!0)}),[v,N]),q=function(e){if(v){var t=P(!!e);!e&&A(t)?(R(null),k(!0),H(I.current.clientHeight+"px"),N(t)):(N(F()+"px"),R(e))}else R(e)},V=r.useCallback((function(){O?(E(!1),x(!1)):w&&(H("auto"),k(!1))}),[O,w]);return r.useEffect((function(){t.length&&v&&!O&&N(P(!!S))}),[t.length,v,O,N,P,S]),r.useEffect((function(){if("lc3"===c&&Object(Na.b)("session")){var e=function(){Object(m.E)(t)||function(e,t){var n=e.filter((function(e){return e.finished})).map((function(e){return Object(d.a)({},e,{url:e.serverUrl})}));Object(m.E)(n)||window.sessionStorage.setItem(t,JSON.stringify(n))}(t,l)};return window.addEventListener("beforeunload",e),function(){return window.removeEventListener("beforeunload",e)}}}),[t,l,c]),r.createElement(hi,{isEdit:S,expanded:!O&&v,mobile:o},r.createElement(b.b,{message:B.title,clearOnUnmount:!0,"aria-live":"error"===B.uploadStatus?"assertive":"polite"}),r.createElement(si,{onClick:function(e){e.stopPropagation(),L()}},S?r.createElement(Te.m,{"aria-label":"go back to upload list",onPress:function(){q(null)}},r.createElement(Te.a,{size:24,className:vi,"aria-hidden":!0})):r.createElement(r.Fragment,null,"pending"===B.uploadStatus?r.createElement(Ia.a,{size:"medium","aria-hidden":!0}):"success"===B.uploadStatus?r.createElement(Ya,{success:!0},r.createElement(Te.B,{size:24,"aria-label":"Upload success"})):r.createElement(Ya,{error:!0},r.createElement(Te.c,{size:24,"aria-label":"Upload error"}))),r.createElement(li,Object(d.a)({flexFill:!0,ellipsis:!0},"error"===B.uploadStatus&&{failed:!0,title:B.title}),S?i("add_alternative_text"):B.title),r.createElement(Te.m,{className:bi,"aria-label":"Toggle upload list","aria-controls":h,"aria-expanded":v,onPress:L},r.createElement(Te.n,{size:24,"aria-hidden":!0},r.createElement(fi,{direction:v&&!O?"down":"up",size:24})))),v&&!O&&r.createElement(pi,null),r.createElement(ui,{innerRef:_,onTransitionEnd:V,longAnimation:!v||O},v&&r.createElement(di,{id:h,edit:!!S,innerRef:I},S?r.createElement(oi,Object(d.a)({},t.find((function(e){return e.id===S})),{onAlternativeTextChanged:function(e){q(null),p(S,e)},mobile:o})):r.createElement(r.Fragment,null,r.createElement(mi,{mobile:o},t.map((function(e){return r.createElement(Xa,Object(d.a)({},e,{key:e.id,mobile:o,failed:!!e.failed,insistHover:D===e.id,onHoverChange:M,onCancel:"lc3"===c&&!u||e.failed?function(){return function(e){if(!o&&t.length>1){var n=Object(m.o)((function(t){return t.id===e}),t),r=n===t.length-1;T(t[n+(r?-1:1)].id)}a(e)}(e.id)}:null,onAlternativeTextEdit:"lc3"!==c||u?null:function(){return q(e.id)}}))}))),"lc3"===c&&r.createElement(rt.a,{onClick:s,disabled:!n,pending:u||"pending"===B.uploadStatus,className:gi},i("send_files"))))))})),Oi=Object(i.D)("div",{target:"ezpiwsd0"})("position:absolute;bottom:0;left:0;right:0;z-index:100;"),xi=Object(a.c)((function(e,t){var n=t.markAsSeen,r=function(){u.s(s.c,Date.now(),e).reverse().forEach((function(e){return n(e.id)}))};return function(e){var t=!Object(m.E)(u.m(e)),n=e.getApplicationState("mobile"),a=u.i(e,s.c),i=e.getUnseenCount(s.c),o=a&&a.properties?a.properties.text:null;return{isFileUploadAllowed:u.Y(e),isFileUploadPossible:u.H(e),isUploadingFiles:t,previewText:o,unseenCount:i,mobile:n,markAllEventsAsSeen:r,localize:e.localize}}}))((function(e){var t=e.isFileUploadAllowed,n=e.isFileUploadPossible,a=e.isUploadingFiles,i=e.previewText,c=e.unseenCount,l=e.chatId,s=e.mobile,u=e.scrollToBottom,d=e.markAllEventsAsSeen,m=e.isOnBottomSource,f=e.isScrollable,h=e.localize,g=i,E=Object(o.s)(m),j=c>0&&!E&&f,O=r.useState(j),x=O[0],y=O[1];return g||(g=h(c>1?"new_messages":"new_message")),!j&&x&&y(!1),r.useEffect((function(){if(j){var e=setTimeout((function(){return y(!0)}),300);return function(){return clearTimeout(e)}}}),[j]),r.createElement(Oi,null,r.createElement(p.a,{appear:!0,component:null},a&&r.createElement(v.b,{key:"upload"},t&&r.createElement(ji,{chatId:l,uploadEnabled:n})),x&&r.createElement(v.b,{key:"unseen"},r.createElement(F.z,{text:g,stickToEdge:s,unseenCount:c,onClick:u,onClose:d}))),x&&r.createElement(b.b,{message:g,clearOnUnmount:!0,"aria-live":"assertive"}))})),yi=Object(A.b)((function(e){var t=e.theme,n=Object(E.a)(e,["theme"]),a=t.Maximized.css.background;return r.createElement(Ia.a,Object(d.a)({},n,{adjustToColor:a,ariaLabel:"Loading previous messages"}))})),wi=Object(i.D)("div",{target:"e1fh44if0"})("padding:1em;display:flex;flex-direction:column;align-items:center;justify-content:center;font-size:0.9em;"),ki=function(e){return r.createElement(wi,null,r.createElement(rt.a,e))},Ci=Object(a.c)((function(e){var t=function(){return g.J(e)},n=function(){return g.K(e,s.c)};return function(e){var r="startChatAgain"===u.h(e,s.c),a=e.getChat(s.c).properties,i=a.starting,o=a.startChatAgainPending,c=e.localize(r?"embedded_start_chat_again":"embedded_greeting_accept");return{startAction:r?n:t,buttonLabel:c,isPending:i||o}}}))((function(e){var t=e.isPending,n=e.buttonLabel,a=e.startAction,i=e.onClick,o=void 0===i?m.T:i;return r.createElement(ki,{disabled:t,pending:t,onClick:function(e){a(),o(e)}},n)})),Si=Object(i.D)("div",{target:"e1onopp20"})("position:absolute;bottom:0;left:0;right:0;background:",(function(e){return e.theme.colors.caution}),";z-index:2;color:",(function(e){return e.theme.colors.text.black}),";text-align:center;font-size:0.9em;line-height:2.8em;transform:translateY(100%);"),Ri=Object(i.D)("div",{target:"e1onopp21"})("flex-grow:1;height:100%;position:relative;min-height:0;z-index:0;-webkit-overflow-scrolling:touch;"),zi=Object(i.z)("background:transparent;overscroll-behavior:contain;position:absolute;top:0;bottom:0;left:0;right:0;"),Di=Object(i.z)("position:absolute;bottom:0;left:50%;z-index:3;transform:translate(-50%,50%);"),Ti=function(e){return e.events[0].id},_i=function(e){return 0!==e.length?Ti(e[0]):null},Ii=function(e){var t=Object(m.K)(e);if(!t)return null;var n=Object(m.K)(t.events);return n?n.id:null};var Bi=Object(f.a)([function(e,t){return e.getTimeline(t)},m.B],(function(e,t){var n=u.B(t);return e.map((function(e,r){var a=0===r,i=e.showDate&&!a&&n;return Object(d.a)({},e,{isThreadBoundary:i,authorData:t.getUser(e.author)})}))}))((function(e,t){return t})),Mi=Object(a.c)((function(e,t){var n=t.id,r=function(){g.H(e)},a=e.localize,i=function(){return e.updateChat(n,{properties:{loadingHistory:!0}})},o=function(t){return e.requestUpdateEvent(n,t,{seen:!0}).catch(m.T)},c=function(t,r){g.B(e,n,t,r)},l=function(t){var r=t.eventId,a=t.buttonId;e.sendEvent(n,{type:"rich_message_postback",properties:{eventId:r,postback:{id:a,toggled:!0}}})},s=function(t){return u.L(e,t)},d=function(t){return g.F(e,t)},p=function(t){return g.O(e,{properties:t})},f=function(t){var n=t.event,r=t.button;return g.o(e,n,r)};return function(e){var t=e.getChat(n),m=t.active,b=t.properties,h=b.agentIsTyping,g=b.loadingHistory,v=b.queued,E=b.ended,j=u.c(n,e),O=u.w(e,n),x=e.getUnseenCount(n),y=u.B(e)&&u.S(e);return{agent:j,active:m,ended:E,loadHistory:i,isThreadStickerEnabled:y,hasMoreHistory:O,markAsSeen:o,sendMessage:c,queued:v,sendPostback:l,showPrechat:r,localize:a,updateSessionUser:p,showMoment:d,unseenCount:x,timeline:Bi(e,n,e.getState()),activeQuickReply:u.p(n,e),agentIsTyping:h&&!!j,shouldLoadHistory:O&&!g,isLoadingHistory:g,showAvatar:u.g("agentAvatar",e).showWithMessage,pageFocused:e.getApplicationState("pageFocused"),inputMode:u.h(e,n),reconnecting:u.hb(e),displayOfflineInformation:u.fb(e),lastSeenEvent:x>0&&e.getLastSeenAgentEvent(n),isGreeting:s,handleRichGreetingButtonClicked:f,isFillableFormDisplayed:u.I(e)}}}))((function(e){var t=e.displayOfflineInformation,n=e.active,a=e.ended,c=e.activeQuickReply,l=e.agent,u=e.isThreadStickerEnabled,d=e.hasMoreHistory,f=e.pageFocused,h=e.id,g=e.inputMode,E=e.loadHistory,j=e.localize,O=e.queued,x=e.reconnecting,y=e.shouldLoadHistory,w=e.showAvatar,k=e.showPrechat,C=e.timeline,R=e.agentIsTyping,z=e.mobile,D=e.unseenCount,T=e.lastSeenEvent,I=e.scrollingDeltaSource,B=e.sendMessage,F=e.showMoment,P=e.handleRichGreetingButtonClicked,N=e.isOnBottomSource,A=e.isFillableFormDisplayed,L=e.isLoadingHistory,q=r.useRef(),V=Object(o.t)(!1),U=function(e){var t=r.useRef(e);return r.useEffect((function(){t.current=e})),r.useMemo((function(){return{handleActionButtonClick:function(e){var n=e.button,r=e.event,a=t.current,i=a.active,o=a.showMoment,c=a.sendPostback,l=a.sendMessage,s=a.isGreeting,u=a.handleRichGreetingButtonClicked;if(s(r))u({event:r,button:n});else if(i)switch(n.type){case"webview":return c({eventId:r,buttonId:n.postbackId}),void o({url:n.value,height:n.webviewHeight});case"message":return void l(n.text,{type:"action_button",event:r,button:n});default:return void c({eventId:r,buttonId:n.postbackId})}},markAsSeen:function(e){return t.current.markAsSeen(e)}}}),[])}(e),W=r.useRef(!1),Y=r.useRef(),G=r.useState(D),Z=G[0],K=G[1],Q=r.useState(T)[0],J=Object(o.d)((function(){return function(e,t,n,r){return e.some((function(e){return e.type===s.f}))?"draft":t?"newMessageDivider":r||n||!e.some((function(e){return e.events.some((function(e){return"boosters"===e.type}))}))?"form":"boosters"}(C,Z,n,a)})),X=Object(o.e)(x),$=r.useCallback((function(e){e&&y&&E()}),[y,E]),ee=r.useCallback((function(){clearTimeout(Y.current),Y.current=setTimeout((function(){I.next({deltaX:0,deltaY:40})}),4e3)}),[I]),te=r.useCallback((function(e){N.next(e),e&&A?ee():clearTimeout(Y.current)}),[N,A,ee]);Object(o.n)((function(){clearTimeout(Y.current)}));var ne=Object(o.q)(q,{firstItemKey:_i(C),lastItemKey:Ii(C),onIsScrolledToTopChanged:$,onIsScrolledToBottomChanged:te,onIsUserScrollingChanged:V.next,onScrollDeltaChanged:I.next}),re=ne.scrollToTop,ae=ne.scrollToBottom,ie=ne.getIsOnBottom,oe=ne.onWheel,ce=ne.onTouchStart,le=ne.getIsScrollable,se=ne.setScrollTargetNode,ue=r.useCallback((function(e){ie()&&ae(e)}),[ie,ae]);r.useEffect((function(){A?ee():clearTimeout(Y.current)}),[A,ee]);var de=r.useCallback((function(){ue({duration:0})}),[ue]),me=function(e){return void 0===e&&(e=m.T),function(){ae({duration:0}),e()}},pe=Object(o.o)((function(){ie()?ae():ae({duration:0}),K(0)})),fe=r.useCallback((function(e){W.current=e}),[]),be=!!(R||O||c||t);return r.useEffect((function(){be&&ue()}),[be,ue]),r.useEffect((function(){if(z){var e=function(){W.current&&ae({duration:0})};return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}}),[z,ae]),Object(o.p)({mainElementRef:q,itemsCount:C.reduce((function(e,t){return e+t.events.length}),0),tableEdgeReached:function(e){"previous"===e&&re({duration:0})}}),r.createElement(S,{beginingOfTime:C.length>0?C[0].timestamp:null,rootRef:q},r.createElement(i.f,{noShrink:!0},r.createElement(hn,{chatId:h,scrollingDeltaSource:I,isOnBottomSource:N,isLoadingHistory:L},u&&r.createElement(_,{className:Di,isUserScrollingSource:V}),x&&!X&&r.createElement(r.Fragment,null,r.createElement(b.b,{message:j("reconnecting"),clearOnUnmount:!0,"aria-live":"assertive"}),r.createElement(Si,null,j("reconnecting")+"\u2026")))),r.createElement(p.a,{appear:!0,component:null},r.createElement(v.c,null,r.createElement(Ri,null,r.createElement(xi,{chatId:h,isScrollable:le(),isOnBottomSource:N,scrollToBottom:ae,markAsSeen:U.markAsSeen}),r.createElement(i.k,{active:f,className:zi,onWheel:oe,onTouchStart:ce,innerRef:q},d&&r.createElement(i.q,null,r.createElement(yi,{size:"medium",style:{margin:"auto"}})),C.map((function(e,t){return r.createElement(r.Fragment,{key:Ti(e)},e.isThreadBoundary&&r.createElement(M,{timestamp:e.timestamp}),Q&&Z>0&&e.events.some((function(e){return e.id===Q.id}))&&r.createElement(H,{unseenCount:Z,setScrollTargetNode:se}),r.createElement(i.j,{isOwn:e.own,onlyFirstWithMeta:!0,avatar:w&&"carousel"!==e.type&&e.authorData.avatar?e.authorData.avatar:void 0},e.events.map((function(t,n){return r.createElement(da,{chatId:h,id:t.id,key:t.id,showMetaOnClick:0!==n,radiusType:e.radiusType,listItemHandlers:U,scrollTarget:J,setScrollTargetNode:!Z&&se,showMoment:F})}))))})),c&&r.createElement("div",{role:"row"},r.createElement("div",{role:"gridcell"},r.createElement(ma.b,{"aria-labelledby":c.id,onSelect:function(e){var t=c.properties.quickReplies[e];c.properties.invitation?P({event:c.id,button:t}):B(t.text,{type:"quick_reply",event:c.id,button:t})},replies:c.properties.quickReplies}))),R&&r.createElement(r.Fragment,null,r.createElement(b.b,{clearOnUnmount:!0,"aria-live":"polite",message:j("operator_is_typing",{operator:l.name}).replace("...","")}),r.createElement(p.a,{appear:!0,component:null},r.createElement(v.b,{exit:!1},r.createElement(Pa.b,{avatar:w?l.avatar:null})))))))),"requestPrechat"===g?r.createElement(ki,{onClick:me(k)},j("embedded_greeting_accept")):"startChat"===g||"startChatAgain"===g?r.createElement(Ci,{onClick:me()}):"text"===g?r.createElement(_a,{chatId:h,onSendMessage:pe,onHeightChange:de,onFocusChange:fe}):null,r.createElement(Fa,{chatId:h,onSendMessage:pe}))})),Fi=Object(i.D)("div",{displayName:"View",section:!0,target:"e1u2umur0"})("flex-grow:1;display:flex;height:100%;min-height:0;padding-bottom:1em;"),Pi=Object(i.D)("div",{displayType:"ViewContent",target:"e1u2umur1"})("overflow-y:auto;height:100%;flex-grow:1;padding:",(function(e){return e.full?"0 !important":"1em 1em 0 1em"}),";"),Ni=function(e){return Object(i.z)("&-enter,&-appear{opacity:0;}&-enter&-enter-active,&-appear&-appear-active{opacity:1;transition:opacity ",200,"ms ",e.transitions.easings.sharp,";}&-exit{opacity:1;}&-exit&-exit-active{opacity:0;transition:opacity ",200,"ms ",e.transitions.easings.sharp,";}")},Hi=Object(i.z)("width:100%;"),Ai=Object(A.b)((function(e){var t=e.children,n=e.theme,a=e.full,i=void 0!==a&&a;return r.createElement(Fi,null,r.createElement(p.a,{className:Hi},r.createElement(j.a,{appear:!0,classNames:Ni(n),timeout:200},r.createElement(Pi,{full:i},t))))})),Li=function(){return r.createElement(a.a,null,(function(e){return r.createElement(Ai,null,r.createElement(i.c,null,r.createElement(i.m,null,e("lost_connection"))))}))},qi=Object(i.C)("50%{opacity:0.0;}"),Vi=Object(i.z)("background:currentColor;opacity:0.3;animation:",qi," 1.5s linear 0s infinite;"),Ui=Object(i.z)(Vi,";"),Wi=Object(i.D)("div",{target:"e1uut4cd0"})("width:",(function(e){return e.width||"10em"}),";height:1em;margin:0.3em;border-radius:",(function(e){return e.theme.borderRadius.sm}),";",Vi,";"),Yi=Object(i.D)("div",{target:"e1uut4cd1"})("width:100%;"),Gi=Object(i.D)("div",{target:"e1uut4cd2"})("padding:1em;"),Zi=Object(i.D)("div",{target:"e1uut4cd3"})("width:100%;margin-top:0.5em;"),Ki=Object(i.D)("div",{displayName:"Message",section:!0,target:"e1uut4cd4"})(),Qi=function(){return r.createElement(Ai,{full:!0},r.createElement(Yi,null,r.createElement(i.a,null,r.createElement(i.b,{className:Ui,letter:" "})),r.createElement(Gi,null,r.createElement(Zi,null,r.createElement(i.q,null,r.createElement(Ki,null,r.createElement(i.c,null,r.createElement(i.m,null,r.createElement(Wi,null),r.createElement(Wi,{width:"7em"})))))),r.createElement(Zi,null,r.createElement(i.q,{reverse:!0},r.createElement(Ki,null,r.createElement(i.c,null,r.createElement(i.m,null,r.createElement(Wi,null)))))),r.createElement(Zi,null,r.createElement(i.q,null,r.createElement(Ki,null,r.createElement(i.c,null,r.createElement(i.m,null,r.createElement(Wi,null)))))))))},Ji=Object(i.D)("div",{target:"e5cxvfk0"})("display:flex;justify-content:center;font-size:0.9em;"),Xi=Object(i.D)("p",{target:"errpamd0"})("text-align:center;"),$i=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={open:!1,submitting:!1},t.showModal=function(){t.setState({open:!0})},t.closeModal=function(){t.setState({open:!1})},t.handleCloseClick=function(){t.setState({submitting:!0}),t.props.closeChat().then((function(){t.setState({submitting:!1}),t.closeModal()})).catch((function(){t.setState({submitting:!1})}))},t}return Object(Y.a)(t,e),t.prototype.render=function(){var e=this.props.localize,t=this.state.submitting;return r.createElement(r.Fragment,null,r.createElement(Nt,{description:e("close_chat")},r.createElement(F.j,{onPress:this.showModal,"aria-label":e("close_chat")},r.createElement(F.e,{"aria-hidden":!0}))),r.createElement(pe,{shown:this.state.open,onClose:this.closeModal,"aria-labelledby":"close_chat_confirm_label"},r.createElement(Dt,{forceLightTheme:!0,"aria-hidden":!0},r.createElement(F.h,null)),r.createElement(Xi,{id:"close_chat_confirm_label"},e("leave_chat_confirm")),r.createElement(Ji,null,r.createElement(at,{destructive:!0,label:e("close_chat"),submitting:t,onClick:this.handleCloseClick}))))},t}(r.Component),eo=r.createContext({}),to=Object(i.D)("ul",{target:"e1ixnb8m0"})("list-style-type:none;position:absolute;z-index:100;background:",(function(e){return e.theme.colors.surface.light}),";box-shadow:",(function(e){return e.theme.boxShadow.md}),";border-radius:",(function(e){return e.theme.borderRadius.lg}),";margin:0;margin-top:2.2em;margin-left:0.8em;padding:0;min-width:180px;overflow:hidden;&:focus{outline:none;}& >:last-child{border-bottom:0;}"),no=function(e){var t=e.highlightedIndex,n=e.items,r=t.current;return!(null===r||r<0)&&"true"!==n.current[r].ref.current.getAttribute("aria-disabled")};var ro=function(e){var t=e.children,n=e.onClose,a=e.menuButtonRef,i=e.onSelect,c=Object(E.a)(e,["children","onClose","menuButtonRef","onSelect"]),l=r.useRef(null),s=Object(ga.a)({onSelect:i}),u=s.useHighlightedItemId(),m=Object(o.h)();return Object(o.m)((function(){"click"===m()&&s.clearHighlightedItem(),l.current.focus()})),Object(o.l)(l,(function(e){a.current.contains(e.target)||n()})),r.createElement($,null,r.createElement(eo.Provider,{value:s},r.createElement(to,Object(d.a)({onMouseOut:s.clearHighlightedItem,tabIndex:-1,role:"menu",innerRef:l,"aria-activedescendant":u,onKeyDown:function(e){switch(e.preventDefault(),e.key){case"ArrowUp":return void s.moveHighlightedItem(-1);case"ArrowDown":return void s.moveHighlightedItem(1);case"Home":return void s.setHighlightedItem(0);case"End":return void s.setHighlightedItem(s.items.current.length-1);case" ":if(!no(s))return;return void s.selectHighlightedItem();case"Enter":if(!no(s))return;return s.selectHighlightedItem(),n(),void a.current.focus();case"Tab":return n(),e.shiftKey?void a.current.focus():void Object(Nr.d)(a.current).focus();case"Escape":return n(),void a.current.focus();default:return void s.highlightItemByString(e)}}},c),t)))},ao=Object(i.D)("h2",{target:"emwx8nd0"})("text-align:center;font-size:16px;font-weight:normal;"),io=function(e){var t=e.email,n=e.localize,a=e.sent,c=e.open,l=e.onClose,s=e.onSubmit,u=e.mobile,d=Object(o.i)("email-transcript"),p=r.useState((function(){return{email:t}})),f=p[0],b=p[1];return r.useEffect((function(){if(c){var e=d.get();b(e||{email:t})}}),[d,t,c]),r.createElement(pe,{shown:c,onClose:l,"aria-labelledby":a?"email-transcript-sent-label":"email-transcript-not-sent-label"},c&&(a?r.createElement(r.Fragment,null,r.createElement(Dt,{forceLightTheme:!0,"aria-hidden":!0},r.createElement(F.m,null)),r.createElement(ao,{id:"email-transcript-sent-label",textWrap:!0},n("chat_transcript_sent").replace(/%s/g,t||"")),r.createElement(Ji,null,r.createElement(rt.a,{capitalize:!0,onClick:l},n("hide")))):r.createElement(r.Fragment,null,r.createElement(Dt,{forceLightTheme:!0,"aria-hidden":!0},r.createElement(F.m,null)),r.createElement(ao,{id:"email-transcript-not-sent-label"},n("send_transcript_to_email")),r.createElement(vt,{id:"email_transcript",initialValues:f,mobile:u,onSubmit:function(e){return s(e.email).then((function(){return d.destroy()})).catch((function(){var e;return(e={})[Qn.a]=n("lost_connection"),e}))},submitLabel:n("send"),validate:function(e){return e.email?{}:{email:n("survey_fill_in_required_fields")}}},r.createElement(i.q,null,r.createElement(fe.b,{onChange:function(e){var t=e.values;e.dirty&&d.set(t)}}),r.createElement(sr,{ariaLabel:"Enter your email address",name:"email",required:!0,serverName:"",label:"",type:"email",localize:m.B}))))))},oo=Object(i.D)("li",{target:"ezmrzej0"})("background:transparent;font-family:inherit;font-size:14px;border:0;display:flex;align-items:center;padding:1.3em;width:100%;cursor:pointer;",(function(e){var t=e.theme,n=e.highlighted;return Object(d.a)({borderBottom:"1px solid "+t.colors.divider},n&&{color:""+t.colors.ctaText,backgroundColor:""+t.colors.cta})})," &[aria-disabled='true']{pointer-events:none;",(function(e){var t=e.theme,n=e.highlighted;return Object(d.a)({color:""+t.colors.grayscale[400]},n&&{color:""+t.colors.grayscale[600],backgroundColor:""+t.colors.grayscale[100]})}),"}"),co=function(e){var t=e.disabled,n=e.text,a=e.value,i=Object(E.a)(e,["disabled","text","value"]),o=r.useRef(null),c=r.useContext(eo),l=c.clearHighlightedItem,s=(0,c.useItem)({ref:o,text:n,value:a}),u=s.id,m=s.highlight,p=s.select,f=(0,s.useHighlighted)();return r.createElement(oo,Object(d.a)({role:"menuitem",id:u,innerRef:o,highlighted:f,onMouseOver:m,onMouseOut:l,onClick:function(e){1!==e.nativeEvent.which||t||p()}},t&&{"aria-disabled":!0},i))},lo=co,so=function(e){var t=e.checked,n=Object(E.a)(e,["checked"]);return r.createElement(co,Object(d.a)({role:"menuitemcheckbox","aria-checked":t},n))},uo=Object(i.z)("margin-right:8px;"),mo=Object(i.z)("&-enter{opacity:0;[role='menuitem'],[role='menuitemcheckbox']{transform:translate3d(0,20%,0);}}&-enter-active{opacity:1;transition:opacity 100ms ease-in-out;[role='menuitem'],[role='menuitemcheckbox']{transform:translate3d(0,0%,0);transition:transform 200ms;}}&-exit{opacity:1;[role='menuitem'],[role='menuitemcheckbox']{transform:translate3d(0,0%,0);}}&-exit-active{opacity:0;transition:opacity 200ms ease-in-out;[role='menuitem'],[role='menuitemcheckbox']{transform:translate3d(0,20%,0);transition:transform 200ms;}}"),po=Object(a.c)((function(e){var t=s.c,n=function(n){return e.requestUpdateChat(t,{properties:{transcriptSentTo:n}})},r=function(){e.setApplicationState({muted:!e.getApplicationState("muted")})};return function(e){var a=e.getChat(t),i=a.active,o=a.properties,c=o.transcriptSentTo;return{localize:e.localize,muted:e.getApplicationState("muted"),sendTranscript:n,transcriptSentTo:c,enableTranscript:i||o.ended,showTranscript:Object(u.g)("emailTranscript",e).enabled,toggleSounds:r,customerEmail:e.getSessionUser().email}}}))((function(e){var t=e.customerEmail,n=e.enableTranscript,a=e.localize,c=e.muted,l=e.sendTranscript,s=e.showTranscript,u=e.toggleSounds,m=e.transcriptSentTo,f=r.useState(!1),b=f[0],h=f[1],g=r.useState(!1),v=g[0],E=g[1];Object(o.h)();var O=r.useRef(null),x=!!m,y=r.useCallback((function(e){switch(e){case"mute":return void u();case"transcript":return h(!1),void E(!0)}}),[u]);return r.createElement(r.Fragment,null,r.createElement(Nt,{isDisabled:b,description:a("theme_options")},r.createElement(F.j,Object(d.a)({className:Object(i.z)("padding:0;"),innerRef:O,onPress:function(){return h((function(e){return!e}))},"aria-label":b?"Close menu":"Open menu","aria-haspopup":!0},b&&{"aria-expanded":b}),r.createElement(F.f,{"aria-hidden":!0}))),r.createElement(p.a,{component:null},b&&r.createElement(j.a,{classNames:mo,timeout:200},r.createElement(ro,{"aria-label":"Menu",menuButtonRef:O,onClose:function(){return h(!1)},onSelect:y},s&&r.createElement(lo,{disabled:!n,text:a("send_transcript"),value:"transcript"},r.createElement(F.m,{className:uo,"aria-hidden":!0}),a("send_transcript")),r.createElement(so,{checked:c,text:a(c?"unmute":"mute"),value:"mute"},c?r.createElement(F.x,{className:uo,"aria-hidden":!0}):r.createElement(F.o,{className:uo,"aria-hidden":!0}),a(c?"unmute":"mute"))))),r.createElement(io,{email:x?m:t,localize:a,onClose:function(){return E(!1)},onSubmit:l,sent:x,open:v}))})),fo=function(e){return"modern"===e?28:32},bo=window.matchMedia("(max-height: 330px)"),ho=Object(i.z)("overflow:hidden;flex-grow:0;text-align:left;padding:0 0.8em;font-weight:700;display:flex;align-items:center;transition:0.3s background-color;"),go=Object(i.D)("div",{displayName:"IconPlaceholder",target:"e7bf83j0"})("width:25px;flex-shrink:0;"),vo=function(e){return Object(i.z)("height:30px;line-height:30px;font-size:inherit;font-weight:700;margin-top:0;margin-bottom:0;transition:opacity 100ms ",e.transitions.easings.smooth,";")},Eo=Object(i.D)("h1",{target:"e7bf83j1"})((function(e){var t=e.theme;return vo(t)})),jo=Object(i.D)("button",{target:"e7bf83j2"})((function(e){var t=e.theme;return vo(t)})," width:100%;height:",(function(e){return"modern"===e.theme.name?"24px":"32px"}),";display:flex;flex-direction:row;justify-content:center;align-items:center;position:relative;color:inherit;background:none;border:none;cursor:pointer;appearance:none;"),Oo=Object(i.D)("span",{target:"e7bf83j3"})("min-width:0;"),xo=Object(i.D)("div",{target:"e7bf83j4"})(),yo=function(e){return Object(m.eb)(e-1).map((function(e){return r.createElement(go,{key:"placeholder_"+e})}))},wo=Object(a.c)((function(e){var t=function(e,t){return e&&e.name&&t?e.name:""},n=function(){return e.requestUpdateChat(s.c,{active:!1})},r=e.getApplicationState("embedded");return function(e){var a=Object(u.c)(s.c,e),i=!(Object(u.gb)(e)||Object(u.fb)(e)),o=Object(u.cb)(e);return{embedded:r,closeChat:n,title:e.localize("welcome_title"),alternateTitle:t(a,o),agent:a,showAlternateTitle:i,showCloseButton:e.getChat(s.c).active,localize:e.localize,showAgentBar:o,showAvatar:Object(u.g)("agentAvatar",e).enabled}}}))(Object(A.b)((function(e){var t=e.showCloseButton,n=e.closeChat,a=e.localize,c=e.showMinimizedButton,l=e.title,s=e.alternateTitle,u=e.onMinimize,m=e.showAgentBar,p=e.showAlternateTitle,f=e.scrollingDeltaSource,b=e.agent,h=e.showAvatar,g=e.isOnBottomSource,v=e.theme,E=r.useRef(),j=r.useRef(),O=r.useRef(),x=r.useRef(bo.matches),y=r.useState(!0),w=y[0],k=y[1],C=Object(ee.e)(),S=v.name,R=r.useCallback((function(){E.current&&(E.current.style.opacity=1),j.current&&(j.current.style.opacity=0),O.current&&(O.current.style.transform="translateY("+fo(S)+"px)"),k(!0)}),[S]),z=r.useCallback((function(){if(p&&(f.next({deltaX:0,deltaY:-50}),C.focusVisible)){var e=Object(Nr.b)(document.getElementById("top-bar"))[0];e&&e.focus()}}),[C.focusVisible,f,p]);Object(o.m)(R),Object(o.a)(f,(function(e){var t=e.y;s&&!x.current&&(E.current&&(E.current.style.opacity=1-2*t),j.current&&(j.current.style.opacity=t),O.current&&(O.current.style.transform=0===t?"translateY("+fo(S)+"px)":"translateY("+(fo(S)-60*t+("modern"===S?4:0))+"px)"),1===t&&w?k(!1):0!==t||w||k(!0))})),r.useEffect((function(){m&&s||R()}),[m,R,s]),r.useEffect((function(){var e=function(e){var t=e.matches;return x.current=t};return bo.addListener(e),function(){return bo.removeListener(e)}}),[]),r.useEffect((function(){if(g)return g.subscribe((function(e){e&&R()}))}),[g,R]);var D=function(e,t){var n=e.filter(Boolean),r=t.filter(Boolean);return n.length===r.length?{leftIcons:n,rightIcons:r}:n.length>r.length?{leftIcons:n,rightIcons:yo(n.length-r.length).concat(r)}:{leftIcons:n.concat(yo(r.length-n.length)),rightIcons:r}}([r.createElement(po,{key:"menu"})],[c&&r.createElement(Nt,{key:"minimize",description:a("embedded_minimize_window")},r.createElement(F.j,{onPress:u,"aria-label":a("embedded_minimize_window")},r.createElement(F.n,{"aria-hidden":!0}))),t&&r.createElement($i,{closeChat:n,key:"close",localize:a})]),T=D.leftIcons,_=D.rightIcons,I="modern"===S?"small":"normal";return r.createElement(i.x,{className:ho,leftIcons:T,noShrink:!0,rightIcons:_,title:r.createElement(xo,{innerRef:O},r.createElement(Eo,{ellipsis:!0,innerRef:E,style:{marginBottom:30},"aria-expanded":w},r.createElement(wt.a,null,l)),r.createElement(jo,Object(d.a)({innerRef:j,disabled:w,onClick:z,"aria-expanded":w,"aria-controls":"top-bar","aria-label":s||l},C),p&&r.createElement(r.Fragment,null,b&&m&&h&&r.createElement(Yt,{avatarUrl:b.avatar,size:I,availability:"online"}),b&&!h&&r.createElement(Yt,{size:I,availability:"online"}),r.createElement(Oo,{ellipsis:!0},s))))})}))),ko=["M181.18 103.421H238.128V89.1388H198.435V17.1462H181.18V103.421Z","M246.429 103.421H263.195V39.3312H246.429V103.421ZM245.07 22.5837C245.178 25.0948 246.252 27.4671 248.067 29.2056C249.883 30.9442 252.299 31.9147 254.812 31.9147C257.326 31.9147 259.742 30.9442 261.557 29.2056C263.372 27.4671 264.446 25.0948 264.554 22.5837C264.611 21.269 264.401 19.9564 263.937 18.725C263.473 17.4936 262.765 16.3689 261.854 15.4185C260.944 14.4681 259.851 13.7119 258.641 13.1952C257.431 12.6785 256.128 12.4122 254.812 12.4122C253.496 12.4122 252.194 12.6785 250.984 13.1952C249.773 13.7119 248.68 14.4681 247.77 15.4185C246.86 16.3689 246.151 17.4936 245.687 18.725C245.223 19.9564 245.013 21.269 245.07 22.5837Z","M328.862 39.3312H312.097L298.303 86.2931L284.492 39.3312H267.727L289.477 103.421H306.967L328.862 39.3312Z","M358.805 104.907C372.979 104.907 384.452 96.4069 386.663 84.6981H372C370.387 89.1387 365.964 92.8363 358.805 92.8363C349.072 92.8363 345.247 86.2931 345.247 78.7712V77.1763H387.152V65.9569C387.152 50.5506 377.546 37.8631 358.569 37.8631C339.592 37.8631 328.989 50.1881 328.989 67.57V76.3062C328.953 94.25 340.68 104.907 358.805 104.907ZM345.211 64.7244C345.211 56.0969 348.836 49.6988 358.533 49.6988C367.596 49.6988 371.71 55.7344 371.71 63.7456V65.3406H345.211V64.7244Z","M431.667 105.125C453.417 105.125 466.92 90.335 467.79 72.6994H451.768C450.644 82.4325 444.518 90.9512 431.667 90.9512C417.258 90.9512 411.095 81.0912 411.095 67.28V53.2694C411.095 39.4581 417.258 29.5981 431.667 29.5981C444.482 29.5981 450.644 38.0987 451.768 47.85H467.79C466.92 30.2144 453.49 15.4244 431.667 15.4244C405.658 15.4244 393.949 32.0631 393.949 54.1212V66.4462C393.949 88.5225 405.658 105.125 431.667 105.125Z","M476.889 103.421H493.655V65.4675C493.655 56.84 498.458 52.3994 505.98 52.3994C514.118 52.3994 517.689 57.71 517.689 65.0869V103.421H534.454V62.3862C534.454 47.2337 525.7 37.8631 511.78 37.8631C503.515 37.8631 496.99 41.4881 493.655 46.9256V13.4487H476.889V103.421Z","M566.445 104.907C573.84 104.907 581.978 101.826 584.932 97.5125V103.421H601.082V62.5131C601.082 47.5963 590.116 37.8631 574.094 37.8631C560.282 37.8631 550.295 44.515 546.598 56.9669H562.131C563.853 53.505 567.424 50.9313 573.224 50.9313C580.129 50.9313 584.316 55.3538 584.316 61.2806V70.035C579.662 66.4073 573.903 64.4878 568.004 64.5975C552.597 64.5975 542.121 71.0138 542.121 84.9338C542.157 97.3856 552.017 104.907 566.445 104.907ZM570.759 93.815C563.726 93.815 558.434 90.3712 558.434 84.4444C558.434 78.5175 563.364 75.3819 571.248 75.3819C578.77 75.3819 584.316 78.7169 584.316 84.4444C584.316 90.1719 578.117 93.815 570.759 93.815Z","M632.492 103.421H644.074V89.8637H637.205C632.764 89.8637 631.169 88.1419 631.169 83.955V52.8887H644.853V39.3312H631.169V21.8406H614.367V39.3312H605.305V52.8887H614.367V85.1875C614.367 96.5337 620.077 103.421 632.492 103.421Z"],Co=Object(i.D)("svg",{target:"e1lie4030"})("height:13px;max-width:58px;margin-left:4px;position:relative;top:",(function(e){return"smooth"===e.theme.name?"2px":"1px"}),";"),So=Object(A.b)((function(e){var t=e.theme,n=Object(E.a)(e,["theme"]),a=t.colors.brand,i=a.orange,o=a.black;return r.createElement(Co,Object(d.a)({"aria-labelledby":"livechat-logo-label",viewBox:"0 0 645 145",fill:"none"},n),r.createElement("title",{id:"livechat-logo-label"},"livechat"),r.createElement("path",{d:"M144.096 90.1356C143.359 98.7467 139.392 106.76 132.991 112.567C126.589 118.373 118.228 121.542 109.586 121.438H90.5545L54.3045 145V121.438L90.5545 97.875H109.622C112.32 97.9725 114.954 97.0425 116.993 95.2729C119.032 93.5033 120.323 91.026 120.606 88.3413C121.714 70.2301 121.623 52.0654 120.334 33.9663C120.116 31.552 119.036 29.2968 117.292 27.6129C115.548 25.929 113.257 24.9288 110.836 24.795C98.4752 24.0338 85.4614 23.5625 72.4295 23.5625C59.3977 23.5625 46.3839 23.9975 34.0227 24.8675C31.6022 25.0013 29.3107 26.0015 27.5669 27.6854C25.8231 29.3693 24.7434 31.6245 24.5252 34.0387C23.2361 52.1379 23.1452 70.3026 24.2533 88.4137C24.5532 91.0854 25.8518 93.545 27.8887 95.2996C29.9256 97.0542 32.5504 97.9741 35.237 97.875H54.3045V121.438H35.2733C26.641 121.523 18.2952 118.343 11.9087 112.535C5.52217 106.727 1.56695 98.7192 0.835792 90.1175C-0.362946 70.7996 -0.272119 51.4233 1.10767 32.1175C1.79276 24.1116 5.31632 16.6141 11.0427 10.9774C16.7691 5.34078 24.3213 1.93607 32.337 1.3775C45.242 0.453125 58.8358 0 72.4295 0C86.0233 0 99.617 0.453125 112.522 1.3775C120.562 1.92172 128.141 5.32939 133.884 10.9825C139.626 16.6355 143.153 24.1596 143.824 32.19C145.201 51.4777 145.292 70.8358 144.096 90.1356Z",fill:i}),ko.map((function(e,t){return r.createElement("path",{key:t,d:e,fill:o})})))})),Ro=Object(i.D)("div",{displayName:"Footer",section:!0,target:"e13tedl70"})(),zo=Object(i.D)("a",{displayName:"FooterLink",target:"e13tedl71"})("display:flex;direction:ltr;align-items:center;justify-content:center;color:",(function(e){return e.theme.colors.grayscale[600]}),";"),Do=Object(a.c)((function(e){var t=e.getApplicationState(),n=t.license,r=t.mobile,a=document.referrer?Object(L.k)(Object(L.d)(document.referrer)||""):"lc"+n,i=u.P(e);return{url:"https://www.livechat.com/powered-by-livechat/?"+Object(L.a)(Object(d.a)({partner:a,utm_campaign:a,utm_source:"chat_window",utm_medium:"referral"},i&&{utm_term:"nonprofit"})),hidden:u.g("hideTrademark",e).enabled||r}}),{shouldHandleStateChanges:!1})((function(e){var t=e.url;return e.hidden?null:r.createElement(Ro,null,r.createElement(zo,{href:t,rel:"noreferrer",target:"_blank"},r.createElement("span",null,"Powered by "),r.createElement(So,null)))})),To=Object(i.z)("z-index:101;position:relative;"),_o=Object(i.z)("z-index:101;border-radius:inherit;");function Io(){return r.useEffect((function(){return Object(c.a)("#overlay_portal_container")}),[]),r.createElement("div",{id:"overlay_portal_container",className:_o})}t.default=Object(a.c)((function(e){return{destroyed:e.getApplicationState().destroyed,showLoader:Object(u.db)(e)}}))((function(e){var t=e.destroyed,n=e.showLoader,a=e.enhancedToggle,i=e.showMinimizedButton,c=Object(o.t)(!0),u=Object(o.t)({x:0,y:0});return t?r.createElement(Li,null):n?r.createElement(Qi,null):r.createElement(r.Fragment,null,r.createElement(Io,null),r.createElement("div",{id:"tooltip_portal_container",className:To}),r.createElement(l.a,{autoFocus:Object(bt.b)()},r.createElement(wo,{isOnBottomSource:c,onMinimize:a,showMinimizedButton:i,scrollingDeltaSource:u}),r.createElement(Mi,{id:s.c,scrollingDeltaSource:u,isOnBottomSource:c}),r.createElement(Do,null)))}))}}]);